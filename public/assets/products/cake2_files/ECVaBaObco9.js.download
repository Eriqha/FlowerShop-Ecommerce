;/*FB_PKG_DELIM*/

__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=o("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent(),a;return t[0]!==n||t[1]!==e?(a=s.createElement(r("CometAccessibilityAnnouncement.react"),babelHelpers.extends({},e,{key:n})),t[0]=n,t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9643878485689642"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:r("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:t.threadId}}}}},root:r("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};l.default=e}),98);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9555699731214088"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:r("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:t.thread_id}}}}},root:r("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};l.default=e}),98);
__d("CometMessagingChatTabErrorState.react",["MWInboxErrorState.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={cardWidth:{width:"x1cvmir6",$$css:!0},errorBoundary:{height:"x5yr21d",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(3),n=e.error,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[u.cardWidth,u.errorBoundary],t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MWInboxErrorState.react"),{error:n,plural:!1,source:"fb_chat_tab",xstyle:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),98);
__d("FBIconChevronDownFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M453.03 1077.72a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06l-2.97 2.97-2.97-2.97z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.filter(t.db.table(119).fetch(),function(n){return t.i64.eq(n.ctaId,e[0])}).next().then(function(e,o){var a=e.done,i=e.value;return a?0:(o=i.item,r[0]=new t.Map,r[0].set("banner_id",o.bannerId),r[0].set("cta_type",o.ctaType),r[0].set("context_id",o.contextId),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",t.i64.cast([0,73]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0])))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSInThreadBannerExecuteCTAStoredProcedure",e.__tables__=["in_thread_banner_ctas"],a.exports=e}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSExecuteCTA"),a.ctaId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSFetchBannersStoredProcedure",["LSFetchBanners","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchBanners"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSLocalCreateOptimisticGroupThreadStoredProcedure",["LSLocalCreateOptimisticGroupThread","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSLocalCreateOptimisticGroupThread"),a.participants,a.nullstateDescriptionText,a.threadName,a.checkExistingThreads,a.threadMetadata);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"ctm_ad_context",t.i64.cast([0,235]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSRequestAdContextFromThreadKey"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.sortBy(t.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=!1:(t=o.item,r[0]=t.errorShouldBeShown)})},function(e){return r[0]===!0?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2285622730]),void 0).then(function(e){return r[4]=e})},function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1919524925]),void 0).then(function(e){return r[5]=e})},function(e){return t.storedProcedure(n("LSIssueNewError"),void 0,t.i64.cast([0,1545093]),r[4],r[5],void 0,void 0)}]):t.resolve()},function(o){return r[2]=new t.Map,r[2].set("thread_key",e[0]),r[2].set("marketplace_cta_type",e[1]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"marketplace_server_mutation_cta",t.i64.cast([0,279]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMarketplaceServerMutationCtaStoredProcedure",e.__tables__=["user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSServerMutationCta"),a.threadKey,a.marketplaceCtaType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWChatTabInThreadBanner_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWChatTabInThreadBanner_query",selections:[{args:null,kind:"FragmentSpread",name:"MWEBChatTabBannerNux_query"}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("MWEBChatTabBannerNux_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEBChatTabBannerNux_query",selections:[{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_auto_eb_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query_autoEB",fragmentName:"MWEBChatTabAutoEBHardblockReleaseContainer_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("MWEBChatTabBannerNux.react",["CometPlaceholder.react","CometRelay","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBChatTabBannerNux_query.graphql","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBWebOnboardingUpsellUtils","MWEncryptedBackupsThreadListQPWrapper.react","cr:12317","cr:20045","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=o("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(r("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEBChatTabBannerNux.react"));function d(t){var a,l,s,d=o("react-compiler-runtime").c(8),m=t.query,p=o("CometRelay").useFragment(e!==void 0?e:e=n("MWEBChatTabBannerNux_query.graphql"),m),_;d[0]!==p?(_={entrypoint:r("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE,query:p},d[0]=p,d[1]=_):_=d[1];var f=r("useEncryptedBackupsProcessStatePreLoaded")(_),g=r("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")(),h=g.vestaClientID,y=h!=null,C=(a=(l=p.viewer)==null?void 0:l.if_viewer_can_see_messenger_eb_auto_eb_upsells)!=null?a:(s=p.viewer)==null?void 0:s.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells;switch(f){case 3:{if(n("cr:12317")!=null&&!y){var b;return d[2]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx(n("cr:12317"),{children:null}),d[2]=b):b=d[2],b}return null}case 2:{if(o("MWEBWebOnboardingUpsellUtils").IS_E2E_TEST_UNRELATED_TO_ENCRYPTED_BACKUPS)return null;if(C!=null){var v;d[3]===Symbol.for("react.memo_cache_sentinel")?(v={},d[3]=v):v=d[3];var S;return d[4]!==C?(S=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(o("CometRelay").MatchContainer,{match:C,props:v})}),d[4]=C,d[5]=S):S=d[5],S}if(n("cr:20045")!=null){var R;return d[6]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(n("cr:20045"),{children:null,source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP}),d[6]=R):R=d[6],R}var L;return d[7]===Symbol.for("react.memo_cache_sentinel")?(L=u.jsx(c,{fallback:null,props:{children:null,source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP,trigger:o("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.CHAT_TAB}}),d[7]=L):L=d[7],L}default:return null}}l.default=d}),98);
__d("MAWChatTabInThreadBanner.react",["CometPlaceholder.react","CometRelay","MAWChatTabInThreadBanner_query.graphql","MWEBChatTabBannerNux.react","cr:9715","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.query,l=o("CometRelay").useFragment(e!==void 0?e:e=n("MAWChatTabInThreadBanner_query.graphql"),i);if(n("cr:9715")&&r("gkx")("1778")){var s;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWInThreadBannerNuxReqCondWrapper",children:u.jsx(n("cr:9715"),{hasNoMargin:!0})}),a[0]=s):s=a[0],s}else{var c;return a[1]!==l?(c=u.jsx(r("MWEBChatTabBannerNux.react"),{query:l}),a[1]=l,a[2]=c):c=a[2],c}}l.default=c}),98);
__d("MAWCreateOptimisticSecureThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSGroupParticipantJoinState","LSIntEnum","MAWVerifyThreadExistsUtils","Promise","ReQLTable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t){return o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(e),{authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),threadType:t},"createSecureOccamadilloOptimisticThread").then(function(t){var n=t[0];return o("ReQLTable").update(e.threads,[n],function(e){if(e==null)throw r("FBLogger")("maw_threads").mustfixThrow("Optimistic thread is missing");return babelHelpers.extends({},e,{clientThreadKey:n})}).then(function(){return n})})}function d(t,a,i){return c(t,i).then(function(i){return(e||(e=n("Promise"))).all(a.map(function(e){return t.participants.add({authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),contactId:e.id,deliveredWatermarkTimestampMs:(s||(s=o("I64"))).zero,groupParticipantJoinState:u.ofNumber(r("LSGroupParticipantJoinState").MEMBER),isAdmin:void 0,isModerator:!1,isSuperAdmin:void 0,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:s.zero,readWatermarkTimestampMs:s.zero,subscribeSource:void 0,threadKey:i})})).then(function(){return i})})}l.call=d}),98);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWLSChatTabHeaderRoot.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function d(e,t){var n=o("react-compiler-runtime").c(3),a;return n[0]!==e||n[1]!==t?(a=function(o){e(function(e){var n=e.onReturn;return s.jsx(r("CometPlaceholder.react"),{fallback:s.jsx(r("MWV2ChatTabLoadingWithGlimmers.react"),{tab:t}),name:"MWCMSubThreadChatTabWithSubthread",children:s.jsx(c,{onReturn:function(){n()},tab:t,threadKey:o})})})},n[0]=e,n[1]=t,n[2]=a):a=n[2],a}function m(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.pushPage,a=e.tab,i=d(r,a),l;return t[0]!==n||t[1]!==i?(l=s.jsx(o("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:i,children:n}),t[0]=n,t[1]=i,t[2]=l):l=t[2],l}function p(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.tab,i=e.thread,l=i.threadKey,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x5a5i1n x1obq294 x2c8kfy x1hm9lzh xhvchuf x1jx94hy x1rgmuzj xbbk1sx"},t[0]=u):u=t[0];var c;t[1]!==a?(c=s.jsx(r("MWV2ChatTabLoadingWithGlimmers.react"),{tab:a}),t[1]=a,t[2]=c):c=t[2];var d;t[3]!==n||t[4]!==a||t[5]!==i.threadKey||t[6]!==l?(d=function(t){return s.jsx(m,{pushPage:t,tab:a,children:s.jsxs(o("MWV2TabContainer").MWV2TabContainer,{style:{boxShadow:"none",margin:0},tab:a,threadKey:i.threadKey,children:[s.jsx(r("MWLSChatTabHeaderRoot.react"),{pushPage:t,tab:a,threadKey:l}),n]})})},t[3]=n,t[4]=a,t[5]=i.threadKey,t[6]=l,t[7]=d):d=t[7];var p;return t[8]!==c||t[9]!==d?(p=s.jsx("div",babelHelpers.extends({},u,{children:s.jsx(r("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:c,fitContentWidth:!0,children:d})})),t[8]=c,t[9]=d,t[10]=p):p=t[10],p}l.default=p}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react"));function p(e){var t=o("react-compiler-runtime").c(4),n=e.connectionStatus,r=e.renderWrapper;if(n==="Connected")return null;if(n==="Disconnected"){var a;return t[0]!==r?(a=r(s._(/*BTDS*/"No internet connection")),t[0]=r,t[1]=a):a=t[1],a}else if(n==="Connecting"){var i;return t[2]!==r?(i=r(s._(/*BTDS*/"Connecting...")),t[2]=r,t[3]=i):i=t[3],i}else return null}function _(t){var n=o("react-compiler-runtime").c(7),a=t.renderWrapper,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.connectivity_status?(s=function(){return o("ReQL").fromTableDescending(l.tables.connectivity_status).map(f)},n[0]=l.tables.connectivity_status,n[1]=s):s=n[1];var u;n[2]!==l?(u=[l],n[2]=l,n[3]=u):u=n[3];var c=o("ReQLSuspense").useFirst(s,u,i.id+":54"),d=c!=null?c:"Connected",_;return n[4]!==a||n[5]!==d?(_=m.jsx(p,{connectionStatus:d,renderWrapper:a}),n[4]=a,n[5]=d,n[6]=_):_=n[6],_}function f(e){return(u||(u=o("I64"))).equal(e.internetConnectionState,(c||(c=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"}l.default=_}),226);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx("div",{className:"x5p7y74 x1562eck x1q0q8m5 xso031l x1lliihq xtijo5x x1o0tod xz9dl7a xsag5q8 x10l6tqk x2b8uid x13vifvy x1vjfegm",children:s.jsx(r("MWXText.react"),{type:"meta4",children:e})})}u.displayName=u.name+" [from "+i.id+"]";function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("MWPChatConnectionStatusCard.react"),{renderWrapper:u}),e[0]=t):t=e[0],t}l.default=c}),98);
__d("MWChatInthreadBannerIcon.react",["MWXIconStrict.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.icon;if(n==null)return null;var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x4tc44c x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1yrsyyn x1icxu4v x10b6aqq x25sj25"},t[0]=a):a=t[0];var i;return t[1]!==n.icon?(i=s.jsx("div",babelHelpers.extends({},a,{children:s.jsx(r("MWXIconStrict.react"),{color:"white",icon:n.icon,size:12})})),t[1]=n.icon,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWChatInthreadIconParser.react",["FBLogger","MWPXMAIconParser","MWXIconFriendGenericAdd"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case"friend-woman-add":return r("MWXIconFriendGenericAdd");default:r("FBLogger")("messenger_web_sharing").mustfix("Unknown XMA Icon: %s",e);return}}function s(t){var n=o("MWPXMAIconParser").parse(t);if(n!=null){if(typeof n=="string")return n;var r=n.color,a=n.icon,i=e(a);if(i!=null)return{color:r,icon:i}}}l.parse=s}),98);
__d("MWChatInThreadBanner.react",["FBLogger","FDSButton.react","FDSProfilePhoto.react","MWChatInthreadBannerIcon.react","MWChatInthreadIconParser.react","MWLSThreadDisplayContext","MWXIconChevronRight","MWXIconStrict.react","MWXLink.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={grow:{flexGrow:"x1iyjqo2",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(16),n=e.action,a=e.button,i=a.ctaTitle;switch(n.type){case"link":{var l;t[0]!==n.url?(l={url:n.url},t[0]=n.url,t[1]=l):l=t[1];var c;return t[2]!==i||t[3]!==l?(c=s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:s.jsx(r("FDSButton.react"),{label:i,linkProps:l,type:"secondary"})}),t[2]=i,t[3]=l,t[4]=c):c=t[4],c}case"action":{var d;return t[5]!==n.contextRef||t[6]!==n.onPress||t[7]!==i?(d=s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:s.jsx(r("FDSButton.react"),{label:i,onPress:n.onPress,ref:n.contextRef,type:"secondary"})}),t[5]=n.contextRef,t[6]=n.onPress,t[7]=i,t[8]=d):d=t[8],d}case"popover":{var m;if(t[9]!==n||t[10]!==i){var p;t[12]!==i?(p=function(t,n){return s.jsx(r("FDSButton.react"),{label:i,onPress:function(){return n()},ref:t,type:"secondary"})},t[12]=i,t[13]=p):p=t[13],m=n.popoverTrigger(p),t[9]=n,t[10]=i,t[11]=m}else m=t[11];var _;return t[14]!==m?(_=s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:m}),t[14]=m,t[15]=_):_=t[15],_}case"unimplemented":return r("FBLogger")("messenger_web_sharing").mustfix("In thread banner cta not implemented, CTA type: %s CTA Title: %s",a.ctaType,a.ctaTitle),null}}function d(e){var t,n,a=o("react-compiler-runtime").c(63),i=e.banner,l=e.ctaParser,d=e.impressionRef,p;if(a[0]!==i.banner.iconUrl){var _;p=o("MWChatInthreadIconParser.react").parse((_=i.banner.iconUrl)!=null?_:""),a[0]=i.banner.iconUrl,a[1]=p}else p=a[1];var f=p,g=i.banner.chevronCtaType!=null,h=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),y=h==="Inbox",C;a[2]!==f?(C=f!=null?typeof f=="string"?s.jsx(r("MWXRowItem.react"),{expanding:!1,children:s.jsx("div",{className:"x14z9mp",children:s.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:24,source:{uri:f}})})}):s.jsx(r("MWXRowItem.react"),{expanding:!1,children:s.jsx("div",{className:[u.grow,"x78zum5 xdt5ytf x1iyjqo2 xl56j7k"],children:s.jsx(r("MWChatInthreadBannerIcon.react"),{icon:f})})}):null,a[2]=f,a[3]=C):C=a[3];var b=C,v;a[4]!==i.banner.cta1Title||a[5]!==i.banner.heading?(v=i.banner.heading!=null?s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsx("span",{className:"x1yrsyyn x10b6aqq",children:s.jsxs(r("MWXText.react"),{type:"meta3",children:[i.banner.heading," ",s.jsx(r("MWXText.react"),{color:"blueLink",type:"meta3",children:s.jsx(r("MWXLink.react"),{href:"https://www.facebook.com/help/869846945085345?ref=ipl",target:"_blank",children:i.banner.cta1Title})})]})})}):null,a[4]=i.banner.cta1Title,a[5]=i.banner.heading,a[6]=v):v=a[6];var S=v,R=((t=i.banner.titleSectionOne)!=null?t:"")+((n=i.banner.titleSectionTwo)!=null?n:""),L;a[7]!==i.banner.heading||a[8]!==R?(L=s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsx(r("MWXTextPairing.react"),{body:R,bodyLineLimit:1,level:4,meta:i.banner.heading,metaLineLimit:1,metaLocation:"above"})}),a[7]=i.banner.heading,a[8]=R,a[9]=L):L=a[9];var E=L,k;a[10]!==i.banner.infoLabel?(k=i.banner.infoLabel!=null?s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXText.react"),{type:"meta1",children:s.jsx("span",{className:"x1qhmfi1 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x6ikm8r x10wlt62 x4p5aij x11lfxj5 x1j85h84 x135b78x xlyipyv xuxw1ft",children:i.banner.infoLabel})})}):null,a[10]=i.banner.infoLabel,a[11]=k):k=a[11];var I=k,T=i.leftButton,D=i.rightButton,x;if(T!=null&&D!=null){var $;a[12]!==i||a[13]!==l||a[14]!==T?($=l(i,T),a[12]=i,a[13]=l,a[14]=T,a[15]=$):$=a[15];var P;a[16]!==T||a[17]!==$?(P=s.jsx(c,{action:$,button:T}),a[16]=T,a[17]=$,a[18]=P):P=a[18];var N;a[19]!==i||a[20]!==l||a[21]!==D?(N=l(i,D),a[19]=i,a[20]=l,a[21]=D,a[22]=N):N=a[22];var M;a[23]!==D||a[24]!==N?(M=s.jsx(c,{action:N,button:D}),a[23]=D,a[24]=N,a[25]=M):M=a[25];var w;a[26]!==M||a[27]!==P?(w=s.jsxs(r("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[P,M]}),a[26]=M,a[27]=P,a[28]=w):w=a[28],x=w}else{var A=T!=null?T:D;if(A!=null){var F;a[29]!==i||a[30]!==A||a[31]!==l?(F=l(i,A),a[29]=i,a[30]=A,a[31]=l,a[32]=F):F=a[32];var O;a[33]!==A||a[34]!==F?(O=s.jsx(r("MWXRow.react"),{paddingTop:8,children:s.jsx(c,{action:F,button:A})}),a[33]=A,a[34]=F,a[35]=O):O=a[35],x=O}}var B;a[36]!==g?(B=g?s.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:s.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconChevronRight"),size:12})}):null,a[36]=g,a[37]=B):B=a[37];var W=B,q;a[38]===Symbol.for("react.memo_cache_sentinel")?(q={className:"x1a8lsjc xh8yej3"},a[38]=q):q=a[38];var U=i.banner.cta1Type==="fbvr_dma_learn_more"?S:E,V;a[39]!==W||a[40]!==b||a[41]!==I||a[42]!==U?(V=s.jsxs(r("MWXRow.react"),{paddingTop:10,children:[b,U,I,W]}),a[39]=W,a[40]=b,a[41]=I,a[42]=U,a[43]=V):V=a[43];var H;a[44]!==x||a[45]!==V?(H=s.jsxs("div",babelHelpers.extends({},q,{children:[V,x]})),a[44]=x,a[45]=V,a[46]=H):H=a[46];var G=H,z;if(a[47]!==i||a[48]!==G||a[49]!==l){var j=i.bannerAction!=null?l(i,i.bannerAction):void 0;if(j!=null)e:switch(j.type){case"link":{z=s.jsx(r("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:j.url},xstyle:m,children:G});break e}case"action":{z=s.jsx(r("MWXPressable.react"),{expanding:!0,onPress:j.onPress,ref:j.contextRef,children:G});break e}case"popover":{var K;a[51]!==G?(K=function(t,n){return s.jsx(r("MWXPressable.react"),{expanding:!0,onPress:function(){return n()},ref:t,children:G})},a[51]=G,a[52]=K):K=a[52],z=j.popoverTrigger(K);break e}case"unimplemented":{var Q,X,Y=(Q=(X=i.bannerAction)==null?void 0:X.ctaType)!=null?Q:"";Y!=="member_requests_view"&&r("FBLogger")("messenger_web_ia").mustfix("In thread banner cta not implemented: %s",Y),z=G}}else z=G;a[47]=i,a[48]=G,a[49]=l,a[50]=z}else z=a[50];var J;a[53]===Symbol.for("react.memo_cache_sentinel")?(J={className:"xfpmyvw x1n2onr6"},a[53]=J):J=a[53];var Z;a[54]!==y?(Z=y?s.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l"}):null,a[54]=y,a[55]=Z):Z=a[55];var ee;a[56]===Symbol.for("react.memo_cache_sentinel")?(ee={className:"x80vd3b x1q0q8m5 xso031l"},a[56]=ee):ee=a[56];var te;a[57]!==z?(te=s.jsx("div",babelHelpers.extends({},ee,{"data-testid":void 0,children:z})),a[57]=z,a[58]=te):te=a[58];var ne;return a[59]!==d||a[60]!==Z||a[61]!==te?(ne=s.jsxs("div",babelHelpers.extends({},J,{ref:d,children:[Z,te]})),a[59]=d,a[60]=Z,a[61]=te,a[62]=ne):ne=a[62],ne}function m(){return[u.linkBanner]}l.default=d}),98);
__d("MWChatTabInThreadBannerInner_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerInner_query",selections:[{args:null,kind:"FragmentSpread",name:"MAWChatTabInThreadBanner_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(t,n){return n!=null?t.get((s||(s=o("I64"))).to_string(n)):null};function c(e,t,n){return{banner:e,bannerAction:u(t,e.bannerCtaId),leftButton:u(t,e.cta1Id),overflowMenuActions:(n!=null?[n.cta1Id,n.cta2Id,n.cta3Id,n.cta4Id,n.cta5Id]:[]).map(function(e){return u(t,e)}).filter(Boolean),rightButton:u(t,e.cta2Id)}}function d(t,n){var a=o("react-compiler-runtime").c(18),l=(e||(e=r("useReStore")))(),s;a[0]!==t.bannerId||a[1]!==l.tables.in_thread_banner_overflow_menu||a[2]!==n?(s=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner_overflow_menu).getKeyRange(n,t.bannerId)},a[0]=t.bannerId,a[1]=l.tables.in_thread_banner_overflow_menu,a[2]=n,a[3]=s):s=a[3];var u;a[4]!==t.bannerId||a[5]!==l||a[6]!==n?(u=[l,n,t.bannerId],a[4]=t.bannerId,a[5]=l,a[6]=n,a[7]=u):u=a[7];var d=o("ReQLSuspense").useFirst(s,u,i.id+":67"),p;a[8]!==t.bannerId||a[9]!==l.tables.in_thread_banner_ctas?(p=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner_ctas).getKeyRange(t.bannerId).map(m)},a[8]=t.bannerId,a[9]=l.tables.in_thread_banner_ctas,a[10]=p):p=a[10];var _;a[11]!==t.bannerId||a[12]!==l?(_=[l,t.bannerId],a[11]=t.bannerId,a[12]=l,a[13]=_):_=a[13];var f=o("ReQLSuspense").useArray(p,_,i.id+":74"),g;if(a[14]!==t||a[15]!==d||a[16]!==f){var h=new Map(f);g=c(t,h,d),a[14]=t,a[15]=d,a[16]=f,a[17]=g}else g=a[17];return g}function m(e){return[(s||(s=o("I64"))).to_string(e.ctaId),e]}l.createBanner=c,l.useInThreadBannerWithCta=d}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l,s;t[0]!==n||t[1]!==a?(l=function(){r("promiseDone")(n.runInTransaction(function(e){return r("LSRequestAdContextFromThreadKeyStoredProcedure")(r("LSFactory")(e),{threadKey:a})},"readwrite",void 0,void 0,i.id+":24"))},s=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=s):(l=t[2],s=t[3]),u(l,s)}l.default=c}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l,s;t[0]!==n||t[1]!==a?(l=function(){var e=n.runInTransaction(function(e){return r("LSFetchBannersStoredProcedure")(r("LSFactory")(e),{threadKey:a})},"readwrite",void 0,void 0,i.id+":23");r("promiseDone")(e)},s=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=s):(l=t[2],s=t[3]),u(l,s)}l.default=c}),98);
__d("useMWCMMemberRequestsCtaParser.react",["GroupsCometChatsEngagementLogger","I64","MWCMMemberRequestsDialog.entrypoint","MWInboxInfoPanelContext.react","MWLSThreadDisplayContext","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(11),n=o("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),a=n.isOnMemberRequestsPageRef,i=n.pushMemberRequestsPage,l=n.setShouldNavToMemberRequests,s=n.setThreadInfoVisible,u=n.threadInfoVisible,c=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),d=c==="ChatTab",m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={},t[0]=m):m=t[0];var p=r("useMWXEntryPointDialog")(r("MWCMMemberRequestsDialog.entrypoint"),m),_=p[0],f;t[1]!==_?(f=function(t){_({parentSurface:"request_to_join_activity_banner",threadKey:t})},t[1]=_,t[2]=f):f=t[2];var g=f,h;return t[3]!==d||t[4]!==a||t[5]!==g||t[6]!==i||t[7]!==l||t[8]!==s||t[9]!==u?(h=function(n,r){var t=function(){o("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(e||(e=o("I64"))).to_string(n.banner.threadKey)})};return r.ctaType!=="cm_thread_member_requests_view"?{type:"unimplemented"}:d?{onPress:function(){t(),g(n.banner.threadKey)},type:"action"}:{onPress:function(){t(),a.current!==!0&&(u===!0?i("request_to_join_activity_banner"):(l(!0),s(!0)))},type:"action"}},t[3]=d,t[4]=a,t[5]=g,t[6]=i,t[7]=l,t[8]=s,t[9]=u,t[10]=h):h=t[10],h}l.default=s}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t,n){return n.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return a({adId:n.ctaId,threadKey:t.banner.threadKey})},type:"action"}},e[1]=a,e[2]=i):i=e[2],i}l.default=e}),98);
__d("MpixEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4586"),s=o("FalcoLoggerInternal").create("mpix_event",e),u=s;l.default=u}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t){r("promiseDone")(n.runInTransaction(function(e){return r("LSExecuteCTAStoredProcedure")(r("LSFactory")(e),{ctaId:t})},"readwrite",void 0,void 0,i.id+":34"))},t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t,o){r("promiseDone")(n.runInTransaction(function(e){return r("LSServerMutationCtaStoredProcedure")(r("LSFactory")(e),{marketplaceCtaType:o,threadKey:t})},"readwrite",void 0,void 0,i.id+":28"))},t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useMWLSMarketplaceCtaParser",["CometFRX.entrypoint","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWResponsiveLayoutContext.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","MpixEventFalcoEvent","ReQL","ReQLSuspense","gkx","logVultureJSDeadEntrypoint","react","react-compiler-runtime","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo,_=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"],f=new Set(_),g=new Set(_.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function h(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),u;n[0]!==l||n[1]!==a.tables.participants||n[2]!==t?(u=function(){return o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(t).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,l)}).map(y)},n[0]=l,n[1]=a.tables.participants,n[2]=t,n[3]=u):u=n[3];var c;return n[4]!==l||n[5]!==a||n[6]!==t?(c=[l,t,a],n[4]=l,n[5]=a,n[6]=t,n[7]=c):c=n[7],o("ReQLSuspense").useFirst(u,c,i.id+":88")}function y(e){return(s||(s=o("I64"))).to_string(e.contactId)}function C(){var e=o("react-compiler-runtime").c(23),t=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),n=r("useMWLSMarketplaceServerMutationCta")(),a=r("useMWLSExecuteInThreadBannerCta")(),i=h(t),l;e[0]!==t?(l=(s||(s=o("I64"))).to_string(t),e[0]=t,e[1]=l):l=e[1];var u=l,d=r("gkx")("17233"),p;e[2]!==i||e[3]!==u?(p=d?window.btoa("message_thread:"+u):i!=null?i:"",e[2]=i,e[3]=u,e[4]=p):p=e[4];var _=p,g="report_button",y;e[5]!==_?(y={entryPoint:g,id:_,location:"marketplace_messenger_report_buyer"},e[5]=_,e[6]=y):y=e[6];var C=y,v;e[7]!==_?(v={entryPoint:g,id:_,location:"marketplace_messenger_report_seller"},e[7]=_,e[8]=v):v=e[8];var S=v,R=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),C),L=R[0],E=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),S),k=E[0],I;e[9]!==u?(I={thread_id:u},e[9]=u,e[10]=I):I=e[10];var T=r("useMWXEntryPointDialog")(r("CometMarketplaceInboxLabelChatDialog.entrypoint"),I),D=T[0],x;e[11]!==u?(x={threadId:u},e[11]=u,e[12]=x):x=e[12];var $=r("useMWXEntryPointDialog")(r("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),x),P=$[0],N=m(r("MWResponsiveLayoutContext.react")),M=N.isDenseMode,w,A;return e[13]!==a||e[14]!==n||e[15]!==M||e[16]!==i||e[17]!==D||e[18]!==P||e[19]!==L||e[20]!==k||e[21]!==u?(A=function(t,l){var e=l.ctaId,d=l.ctaType,m=l.deeplinkUrl,p=l.webviewUrl;if(d==="marketplace_see_details"||d==="marketplace_banner_open_native"){var _=p!=null?p:m;if(_!=null)return{type:"link",url:_};r("FBLogger")("mp_messaging").mustfix("Marketplace see details cta without url")}if(d==="marketplace_view_profile"){var g=p!=null?p:m;if(g!=null)return{type:"link",url:g};r("FBLogger")("mp_messaging").mustfix("Marketplace view profile cta without url")}if(d==="marketplace_scaled_rate_seller"&&p!=null)return{type:"link",url:p};if(d==="marketplace_more_options"&&t.overflowMenuActions.length>0)return{popoverTrigger:function(n){return c.jsx(r("MWXLazyPopoverTrigger.react"),{align:M?"middle":"end",popoverProps:{ctaParser:function(n){return A(t,n)},menu:t.overflowMenuActions},popoverResource:r("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:n})},type:"popover"};if(d==="marketplace_report_buyer"||d==="marketplace_report_seller"){if(i!=null){var h={other_user_id:i,thread_id:u};e:switch(d){case"marketplace_report_buyer":{r("MpixEventFalcoEvent").log(function(){return{entity_type:"user",event:"msgr_blocked_report_buyer_error",extra_data:h}});break e}case"marketplace_report_seller":{r("MpixEventFalcoEvent").log(function(){return{entity_type:"user",event:"msgr_blocked_report_seller_error",extra_data:h}});break e}default:}return{onPress:function(){d==="marketplace_report_buyer"?L({}):k({})},type:"action"}}r("FBLogger")("mp_messaging").mustfix("Haven't implemented report buyer/seller for threads with more than 1 person")}if(f.has(d))return{onPress:function(){return a(e)},type:"action"};if(d==="marketplace_label_chat")return{onPress:function(){return D({threadID:u},function(){return a(e)})},type:"action"};if(d==="marketplace_mark_as_paid")return{onPress:function(){return P({threadID:u},function(){return a(e)})},type:"action"};if(d==="marketplace_create_discount")return{onPress:b,type:"action"};if(d==="marketplace_server_mutation"){var y=l.actionContentBlob,C="";if(y!=null){var v,S=((v=JSON.parse(y))!=null?v:{}).marketplace_cta_type;typeof S=="string"?C=S:r("FBLogger")("mp_messaging").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return n((s||(s=o("I64"))).of_string(u),C)},type:"action"}}return{type:"unimplemented"}},e[13]=a,e[14]=n,e[15]=M,e[16]=i,e[17]=D,e[18]=P,e[19]=L,e[20]=k,e[21]=u,e[22]=A):A=e[22],w=A,w}function b(){o("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view"),r("logVultureJSDeadEntrypoint")("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")}l.marketplaceCta=g,l.useMWLSMarketplaceCtaParser=C}),98);
__d("useMWLSInThreadBannerCtaParser",["react-compiler-runtime","useMWCMMemberRequestsCtaParser.react","useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(4),t=o("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),n=r("useMWLSAdContextCtaParser")(),a=r("useMWCMMemberRequestsCtaParser.react")(),i;return e[0]!==n||e[1]!==a||e[2]!==t?(i=function(r,i){var e=i.ctaType;return o("useMWLSMarketplaceCtaParser").marketplaceCta.has(e)?t(r,i):e==="ads_context"?n(r,i):e==="cm_thread_member_requests_view"?a(r,i):{type:"unimplemented"}},e[0]=n,e[1]=a,e[2]=t,e[3]=i):i=e[3],i}l.default=e}),98);
__d("MWLSInThreadBannerComponent.react",["GroupsCometChatsEngagementLogger","I64","MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(e){var t=o("react-compiler-runtime").c(4),n=e.banner,a=e.impressionRef,i=e.threadKey,l=o("useInThreadBannerWithCta").useInThreadBannerWithCta(n,i),s=r("useMWLSInThreadBannerCtaParser")(),u;return t[0]!==l||t[1]!==s||t[2]!==a?(u=c.jsx(r("MWChatInThreadBanner.react"),{banner:l,ctaParser:s,impressionRef:a}),t[0]=l,t[1]=s,t[2]=a,t[3]=u):u=t[3],u}function m(t){var n=o("react-compiler-runtime").c(13),a=t.threadKey;r("useMWLSEnsureInThreadBannerExists")(),r("useMWLSEnsureAdContextExists")();var l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.in_thread_banner||n[1]!==a?(u=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner).getKeyRange(a)},n[0]=l.tables.in_thread_banner,n[1]=a,n[2]=u):u=n[2];var m;n[3]!==l||n[4]!==a?(m=[l,a],n[3]=l,n[4]=a,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(u,m,i.id+":56"),_=p==null?void 0:p.cta1Type,f=p==null?void 0:p.cta2Type,g;n[6]!==(p==null?void 0:p.bannerCtaType)||n[7]!==a?(g={onImpressionStart:function(){(p==null?void 0:p.bannerCtaType)==="cm_thread_member_requests_view"&&o("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(s||(s=o("I64"))).to_string(a)})}},n[6]=p==null?void 0:p.bannerCtaType,n[7]=a,n[8]=g):g=n[8];var h=r("useSinglePartialViewImpression")(g);if(p==null||_==="proactive_warning_affirmative"||_==="proactive_warning_negative"||f==="proactive_warning_affirmative"||f==="proactive_warning_negative"||_==="ctx_whatsapp_redirect_banner"||f==="ctx_whatsapp_redirect_banner")return null;var y;return n[9]!==p||n[10]!==h||n[11]!==a?(y=c.jsx(d,{banner:p,impressionRef:h,threadKey:a}),n[9]=p,n[10]=h,n[11]=a,n[12]=y):y=n[12],y}l.default=m}),98);
__d("getMWLocalStorageThreadsWithBannerDismissed",["FBLogger","WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n;try{var o,a;n=JSON.parse((o=(a=(e||(e=r("WebStorage"))).getLocalStorageForRead())==null?void 0:a.getItem(t))!=null?o:"{}")}catch(e){r("FBLogger")("armadillo").warn("Local storage value retrieval failed with error of "+String(e)+" when "+("retrieving value of "+t+" from web storage.")),n={}}return n}l.parseLocalStorageThreadsWithBannerDismissed=s}),98);
__d("useIsDualThreadInThreadBannerNotDismissed",["I64","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","getMWLocalStorageThreadsWithBannerDismissed","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=t.threadKey,i=o("MAWThreadCutover").useGetCutoverOpenThreadKey(a),l=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(i),s;if(n[0]!==l||n[1]!==a){var u=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED);s=l&&!Object.prototype.hasOwnProperty.call(u,(e||(e=o("I64"))).to_string(a)),n[0]=l,n[1]=a,n[2]=s}else s=n[2];var c=s,d;n[3]!==t?(d=o("LSThreadBitOffset").has(260,t),n[3]=t,n[4]=d):d=n[4];var m=d,p;if(n[5]!==m||n[6]!==a){var _=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);p=m&&!Object.prototype.hasOwnProperty.call(_,(e||(e=o("I64"))).to_string(a)),n[5]=m,n[6]=a,n[7]=p}else p=n[7];var f=p;return c||f}l.default=s}),98);
__d("MWChatTabInThreadBannerInner.react",["CometErrorBoundary.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","LSMessagingThreadTypeUtil","MAWChatTabInThreadBanner.react","MWChatEncryptedBackupsQPLSource.enum","MWChatTabInThreadBannerInner_query.graphql","MWLSInThreadBannerComponent.react","cr:13469","cr:17333","react","react-compiler-runtime","useIsDualThreadInThreadBannerNotDismissed","useQuickPromotionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,l=o("react-compiler-runtime").c(17),s=t.query,c=t.thread,m=o("CometRelay").useFragment(e!==void 0?e:e=n("MWChatTabInThreadBannerInner_query.graphql"),s),p=m==null||(a=m.viewer)==null||(a=a.eligible_promotions)==null||(a=a.nodes[0])==null||(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy,_;l[0]===Symbol.for("react.memo_cache_sentinel")?(_={context_surface_id:8888,context_trigger:"chat_tab_open"},l[0]=_):_=l[0];var f=r("useQuickPromotionFalcoEvent")(_),g=r("useIsDualThreadInThreadBannerNotDismissed")(c);if(p!=null){var h;l[1]!==p?(h=u.jsx(o("CometRelay").MatchContainer,{match:p}),l[1]=p,l[2]=h):h=l[2];var y;return l[3]!==f||l[4]!==h?(y=u.jsx(r("CometQuickPromotionLoggerContext.react").Provider,{value:f,children:h}),l[3]=f,l[4]=h,l[5]=y):y=l[5],y}else if(g){var C;l[6]!==c?(C=n("cr:17333")&&u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(n("cr:17333"),{source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_QP,thread:{capabilities:c.capabilities,capabilities2:c.capabilities2,capabilities3:c.capabilities3,capabilities4:c.capabilities4,capabilities5:c.capabilities5,threadKey:c.threadKey,threadType:c.threadType}})}),l[6]=c,l[7]=C):C=l[7];var b;l[8]!==c?(b=n("cr:13469")&&u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(n("cr:13469"),{source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_QP,thread:c})}),l[8]=c,l[9]=b):b=l[9];var v;return l[10]!==C||l[11]!==b?(v=u.jsxs(u.Fragment,{children:[C,b]}),l[10]=C,l[11]=b,l[12]=v):v=l[12],v}else if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType)){var S;return l[13]!==m?(S=u.jsx(r("MAWChatTabInThreadBanner.react"),{query:m}),l[13]=m,l[14]=S):S=l[14],S}else{if(o("LSMessagingThreadTypeUtil").isJoinedSocialChannel(c.threadType))return null;var R;return l[15]!==c.threadKey?(R=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner",children:u.jsx(r("CometErrorBoundary.react"),{fallback:d,children:u.jsx(r("MWLSInThreadBannerComponent.react"),{threadKey:c.threadKey})})}),l[15]=c.threadKey,l[16]=R):R=l[16],R}}function d(){return null}l.default=c}),98);
__d("MWChatTabInThreadBannerQuery.graphql",["MWChatTabInThreadBannerQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[e,t],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_auto_eb_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query_autoEB",fragmentName:"MWEBChatTabAutoEBHardblockReleaseContainer_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[e],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null},t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:n("MWChatTabInThreadBannerQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:n("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWChatTabInThreadBanner.react",["MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerQuery.graphql","RelayHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.mwChatTabInThreadBannerQueryRef,l=t.thread,s=o("RelayHooks").usePreloadedQuery(e!==void 0?e:e=n("MWChatTabInThreadBannerQuery.graphql"),i),c;return a[0]!==s||a[1]!==l?(c=u.jsx(r("MWChatTabInThreadBannerInner.react"),{query:s,thread:l}),a[0]=s,a[1]=l,a[2]=c):c=a[2],c}l.default=c}),98);
__d("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24547472401621056"}),null);
__d("MWChatTabInThreadBannerLazyLoadedQuery.graphql",["MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[e,t],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_auto_eb_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query_autoEB",fragmentName:"MWEBChatTabAutoEBHardblockReleaseContainer_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[e],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null},t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:n("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerLazyLoadedQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:n("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}})();a.exports=e}),null);
__d("MWChatTabInThreadBannerLazyLoaded.react",["CometRelay","MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerLazyLoadedQuery.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.thread,l=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("MWChatTabInThreadBannerLazyLoadedQuery.graphql"),{},{fetchPolicy:"store-or-network"}),s;return a[0]!==l||a[1]!==i?(s=u.jsx(r("MWChatTabInThreadBannerInner.react"),{query:l,thread:i}),a[0]=l,a[1]=i,a[2]=s):s=a[2],s}l.default=c}),98);
__d("MWChatTabLSDependencies",["LSCompleteThreadCutover","LSDynamicDependencies","LSMailboxTaskCompletionApiOnTaskCompletion","LSReceiveMarkThreadReadNative","LSSyncBumpThreadDataToClient","LSUpdateCommunityThreadStaleState","LSUpdateParentFolderReadWatermark","LSUpdateThreadNullState","LSVerifyE2EEMetadataThreadExistsV2","LSVerifyThreadRowExists","LSWriteCTAIdToThreadsTable"],(function(t,n,r,o,a,i,l){"use strict";function e(){o("LSDynamicDependencies").addToCachedModules({completeThreadCutover:r("LSCompleteThreadCutover"),mailboxTaskCompletionApiOnTaskCompletion:r("LSMailboxTaskCompletionApiOnTaskCompletion"),receiveMarkThreadReadNative:r("LSReceiveMarkThreadReadNative"),syncBumpThreadDataToClient:r("LSSyncBumpThreadDataToClient"),updateCommunityThreadStaleState:r("LSUpdateCommunityThreadStaleState"),updateParentFolderReadWatermark:r("LSUpdateParentFolderReadWatermark"),updateThreadNullState:r("LSUpdateThreadNullState"),verifyE2EEMetadataThreadExistsV2:r("LSVerifyE2EEMetadataThreadExistsV2"),verifyThreadRowExists:r("LSVerifyThreadRowExists"),writeCTAIdToThreadsTable:r("LSWriteCTAIdToThreadsTable")})}l.init=e}),98);
__d("MWFDSChevronDown.svg.react",["cr:21600"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21600")}),98);
__d("MWFullThreadProvider.react",["ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(9),a=t.children,l=t.threadKey,s=(e||(e=r("useReStore")))(),u;n[0]!==s.tables.threads||n[1]!==l?(u=function(){return o("ReQL").fromTableAscending(s.tables.threads).getKeyRange(l)},n[0]=s.tables.threads,n[1]=l,n[2]=u):u=n[2];var c;n[3]!==s||n[4]!==l?(c=[s,l],n[3]=s,n[4]=l,n[5]=c):c=n[5];var d=o("ReQLSuspense").useFirst(u,c,i.id+":25");if(d!=null){var m;return n[6]!==a||n[7]!==d?(m=a(d),n[6]=a,n[7]=d,n[8]=m):m=n[8],m}}l.default=c}),98);
__d("MWInChatTabContextProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(!1);function p(){return d(m)}function _(e){var t=o("react-compiler-runtime").c(2),n=e.children,r;return t[0]!==n?(r=s.jsx(m.Provider,{value:!0,children:n}),t[0]=n,t[1]=r):r=t[1],r}l.useInChatTab=p,l.InChatTabContextProvider=_}),98);
__d("MWXIconChevronDown",["MWXSvgIcon","SVGIcon","cr:22264","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22264")),r("gkx")("23219"));l.default=e}),98);
__d("useMAWFetchSecureMessageByPinnedExternalId",["MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchSecureMissingMessage","promiseDone","react-compiler-runtime","useMWEBBackupState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={entrypoint:r("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES},n[0]=l):l=n[0];var s=r("useMWEBBackupState")(l),d=s===3,m,p;n[1]!==a||n[2]!==d||n[3]!==t?(m=function(){return o("ReQL").fromTableDescending(a.tables.client_web_pinned_messages.index("pinnedMessageDisplayOrder")).getKeyRange(t).map(function(e){var n=e.offlineThreadingId,l=o("ReQLSuspense").first(o("ReQL").fromTableDescending(a.tables.messages.index("optimistic")).getKeyRange(n),i.id+":48");return l==null&&r("promiseDone")(r("fetchSecureMissingMessage")(a,t,n,d,"MAWFetchPinnedMessage")),{message:l,pinnedOfflineThreadingId:n}})},p=[a,t,d],n[1]=a,n[2]=d,n[3]=t,n[4]=m,n[5]=p):(m=n[4],p=n[5]);var _=o("ReQLSuspense").useArray(m,p,i.id+":38"),f;return n[6]!==_?(f=_.map(c).filter(u),n[6]=_,n[7]=f):f=n[7],f}function u(e){return!(e!=null&&e.isUnsent)}function c(e){return e.message}l.default=s}),98);
__d("useMWFetchMessageByPinnedMessageId",["LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","fetchOpenMissingMessage","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(22),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.threads||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(t)},n[0]=a.tables.threads,n[1]=t,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t?(s=[a,t],n[3]=a,n[4]=t,n[5]=s):s=n[5];var c=o("ReQLSuspense").useFirst(l,s,i.id+":34"),d=o("MAWThreadCutover").useGetCutoverOpenThreadKey(t),m=d!=null,p=d!=null?d:t,_=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(d),f;n[6]!==c?(f=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),n[6]=c,n[7]=f):f=n[7];var g=f,h=g&&(!m||_),y;n[8]!==a.tables.threads||n[9]!==p?(y=function(){return o("ReQL").fromTableDescending(a.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(p)},n[8]=a.tables.threads,n[9]=p,n[10]=y):y=n[10];var C;n[11]!==a||n[12]!==p?(C=[a,p],n[11]=a,n[12]=p,n[13]=C):C=n[13];var b=o("ReQLSuspense").useFirst(y,C,i.id+":54"),v,S;n[14]!==a||n[15]!==h||n[16]!==p||n[17]!==b?(v=function(){return h?o("ReQL").empty():o("ReQL").fromTableDescending(a.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(p).map(function(e){var t=e.messageId,n=o("ReQLSuspense").first(o("ReQL").fromTableDescending(a.tables.messages.index("messageId")).getKeyRange(t),i.id+":73");return b!=null&&n==null&&r("promiseDone")(r("fetchOpenMissingMessage")(a,b,t)),{message:n,pinnedMessageId:t}})},S=[a,p,h,b],n[14]=a,n[15]=h,n[16]=p,n[17]=b,n[18]=v,n[19]=S):(v=n[18],S=n[19]);var R=o("ReQLSuspense").useArray(v,S,i.id+":64"),L;return n[20]!==R?(L=R.map(u).filter(Boolean),n[20]=R,n[21]=L):L=n[21],L}function u(e){return e.message}l.default=s}),98);
__d("useMWJumpToMessageWrapper",["useMWJumpToMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("useMWJumpToMessage")(e.source)}l.default=e}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometPageletWithDiv.react","FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBroadcastChannelLoggingShapes","MWGroupBlockingProtectionUtils","MWLSThreadDisplayContext","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","isMWBumpMessage","justknobx","react","react-compiler-runtime","useGetOriginalMsgFromBumpMsg","useMAWFetchSecureMessageByPinnedExternalId","useMWFetchMessageByPinnedMessageId","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u.useMemo,_={pinnedMessagesWrapper:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},pinnedMessagesWrapperChatTabs:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},pinnedMessagesWrapperInbox:{borderTopColor:"x1pdss0j",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},row:{height:"x10wjd1d",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},f=r("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function g(e,t,n){var a,i,l,s=e==null?void 0:e.text,u=t&&e!=null?(c||(c=o("I64"))).equal(n,e.threadKey):!1,d=p(function(){var t,n;return new Set(u?(t=e==null||(n=e.mentionIds)==null||n.split==null?void 0:n.split(","))!=null?t:[]:[])},[u,e==null?void 0:e.mentionIds]),m=o("MWUnvaultedText").getMWUnvaultedText(u,s),_=(a=(i=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(m,[],d,n))==null?void 0:i.textWithSubstitutions)!=null?a:m,f=(l=o("useStringWithSubstitutions").useStringWithSubstitutions(m,n))!=null?l:m,g=r("isMWBumpMessage")(e==null?void 0:e.replyType);return g?f:_}function h(e){return e==null?"":(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(2))?s._(/*BTDS*/"Media"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(4))?s._(/*BTDS*/"Audio"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(4096))||(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(134217728))?s._(/*BTDS*/"Sticker"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(16384))?s._(/*BTDS*/"GIF"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(64))?s._(/*BTDS*/"File"):s._(/*BTDS*/"Attachment")}function y(e){r("FBLogger")("messenger_web_pinned_messages").catching(e).mustfix("uncaught exception in MWInboxPinnedMessagesBanner.react. Error:%s",e.message)}function C(e){var t=o("react-compiler-runtime").c(2),n=e.thread,a;return t[0]!==n?(a=m.jsx(r("CometErrorBoundary.react"),{fallback:b,onError:y,children:m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPinnedMessagesBanner",children:m.jsx(v,{thread:n})})}),t[0]=n,t[1]=a):a=t[1],a}function b(){return null}function v(t){var n=o("react-compiler-runtime").c(66),a=t.thread,l=r("useMWXLazyDialog")(f),u=l[0],d=(e||(e=r("useReStore")))(),p=r("useMWFetchMessageByPinnedMessageId")(a.threadKey),y=r("useMAWFetchSecureMessageByPinnedExternalId")(a.threadKey),C;if(n[0]!==p||n[1]!==y){var b=y.concat(p),v=[];C=b.reduce(S,v),n[0]=p,n[1]=y,n[2]=C}else C=n[2];var R=C,L=o("MWPActor.react").useActor(),E;n[3]===Symbol.for("react.memo_cache_sentinel")?(E={source:"Pinned"},n[3]=E):E=n[3];var k=r("useMWJumpToMessageWrapper")(E),I=(R==null?void 0:R.length)>0?R[0]:null,T;n[4]!==d||n[5]!==I?(T=function(){return(I==null?void 0:I.senderId)!=null?o("ReQL").fromTableAscending(d.tables.contacts).getKeyRange(I.senderId):o("ReQL").empty()},n[4]=d,n[5]=I,n[6]=T):T=n[6];var D=I==null?void 0:I.senderId,x;n[7]!==d||n[8]!==D?(x=[D,d],n[7]=d,n[8]=D,n[9]=x):x=n[9];var $=o("ReQLSuspense").useFirst(T,x,i.id+":248"),P;n[10]!==d||n[11]!==I||n[12]!==a.threadKey?(P=function(){return(I==null?void 0:I.senderId)!=null?o("ReQL").fromTableAscending(d.tables.participants).getKeyRange(a.threadKey,I.senderId):o("ReQL").empty()},n[10]=d,n[11]=I,n[12]=a.threadKey,n[13]=P):P=n[13];var N=I==null?void 0:I.senderId,M;n[14]!==d||n[15]!==N||n[16]!==a.threadKey?(M=[N,d,a.threadKey],n[14]=d,n[15]=N,n[16]=a.threadKey,n[17]=M):M=n[17];var w=o("ReQLSuspense").useFirst(P,M,i.id+":258"),A;n[18]!==a.threadType?(A=o("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),n[18]=a.threadType,n[19]=A):A=n[19];var F=A,O=r("useGetOriginalMsgFromBumpMsg")(I==null?void 0:I.replyType,I==null?void 0:I.replySourceId,I==null?void 0:I.threadKey),B=O!=null?O:I,W=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(B==null?void 0:B.senderId,a.threadKey),q=g(B,F,a.threadKey),U;e:{if(r("justknobx")._("1501")&&W){var V;n[20]===Symbol.for("react.memo_cache_sentinel")?(V=o("MWBlockedTombstoneMessage.react").HIDDEN_MESSAGE_LABEL.toString(),n[20]=V):V=n[20],U=V;break e}var H;n[21]!==B||n[22]!==q?(H=q!=null&&q!==""?q:h(B),n[21]=B,n[22]=q,n[23]=H):H=n[23],U=H}var G=U,z=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox";if(R.length===0)return null;var j;n[24]!==a.threadKey||n[25]!==a.threadType?(j={eventName:"open_view_pinned_messages_dialog",threadKey:a.threadKey,threadType:a.threadType},n[24]=a.threadKey,n[25]=a.threadType,n[26]=j):j=n[26];var K=j,Q;n[27]!==a.threadType?(Q=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),n[27]=a.threadType,n[28]=Q):Q=n[28];var X=Q,Y;if(n[29]!==L||n[30]!==I||n[31]!==($==null?void 0:$.name)||n[32]!==(w==null?void 0:w.nickname)){var J,Z;Y=(I==null?void 0:I.senderId)!=null&&(c||(c=o("I64"))).equal(L,I.senderId)?"You":(J=(Z=w==null?void 0:w.nickname)!=null?Z:$==null?void 0:$.name)!=null?J:"",n[29]=L,n[30]=I,n[31]=$==null?void 0:$.name,n[32]=w==null?void 0:w.nickname,n[33]=Y}else Y=n[33];var ee=Y,te;n[34]!==X||n[35]!==G?(te=X?s._(/*BTDS*/"Pinned Messages Banner with last pinned message by broadcast channel admin: {lastPinnedMessage}",[s._param("lastPinnedMessage",G)]):s._(/*BTDS*/"Pinned Messages Banner with last pinned message: {lastPinnedMessage}",[s._param("lastPinnedMessage",G)]),n[34]=X,n[35]=G,n[36]=te):te=n[36];var ne;n[37]!==X||n[38]!==k||n[39]!==R[0]||n[40]!==R.length||n[41]!==u||n[42]!==a.threadKey?(ne=function(){if(R.length===1){var e=R[0];e!=null&&e.messageId!=null&&e.timestampMs!=null&&k(e.messageId,e.timestampMs)}else u({threadKey:a.threadKey});X&&o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers.extends({},o("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(R.length>1).toString()},threadFbid:a.threadKey}))},n[37]=X,n[38]=k,n[39]=R[0],n[40]=R.length,n[41]=u,n[42]=a.threadKey,n[43]=ne):ne=n[43];var re=z?_.pinnedMessagesWrapperInbox:_.pinnedMessagesWrapperChatTabs,oe;n[44]!==re?(oe=[_.pinnedMessagesWrapper,re],n[44]=re,n[45]=oe):oe=n[45];var ae;n[46]===Symbol.for("react.memo_cache_sentinel")?(ae=m.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(r("MWXIconForListCell.react"),{color:"secondary",icon:r("MWXIconPushpin"),size:"medium"})}),n[46]=ae):ae=n[46];var ie;n[47]!==X||n[48]!==ee?(ie=m.jsx(r("MWXColumnItem.react"),{verticalAlign:"center",xstyle:_.rowText,children:m.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:X?s._(/*BTDS*/"{channel_creator_name}{middot} Admin",[s._param("channel_creator_name",ee),s._param("middot",m.jsx(r("BaseMiddot.react"),{}))]):s._(/*BTDS*/"{message_sender_name}",[s._param("message_sender_name",ee)])})}),n[47]=X,n[48]=ee,n[49]=ie):ie=n[49];var le;n[50]!==G?(le=m.jsx(r("MWXColumnItem.react"),{verticalAlign:"center",xstyle:_.rowText,children:m.jsx(r("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:G})}),n[50]=G,n[51]=le):le=n[51];var se;n[52]!==ie||n[53]!==le?(se=m.jsx(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(r("MWXColumn.react"),{children:[ie,le]})}),n[52]=ie,n[53]=le,n[54]=se):se=n[54];var ue;n[55]!==R.length?(ue=R.length>1&&m.jsx(r("MWXRowItem.react"),{children:m.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconChevronDown"),size:16})}),n[55]=R.length,n[56]=ue):ue=n[56];var ce;n[57]!==se||n[58]!==ue?(ce=m.jsxs(r("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:_.row,children:[ae,se,ue]}),n[57]=se,n[58]=ue,n[59]=ce):ce=n[59];var de;return n[60]!==K||n[61]!==te||n[62]!==ne||n[63]!==oe||n[64]!==ce?(de=m.jsx(r("MWXPressable.react"),{"aria-label":te,display:"inline",expanding:!0,loggingEvent:K,onPress:ne,overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:oe,children:ce}),n[60]=K,n[61]=te,n[62]=ne,n[63]=oe,n[64]=ce,n[65]=de):de=n[65],de}function S(e,t){return t!=null?[].concat(e,[t]):e}l.default=C}),226);
__d("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{}}},root:r("JSResourceForInteraction")("MWInboxPostcutoverSecureThreadBannerDialog.react").__setRef("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint")};l.default=e}),98);
__d("getMWInlineQPBannerStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={inlineQPBanner:{backgroundColor:"x1jx94hy",boxShadow:"xyqbzfk",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},inlineQPBannerWrapper:{backgroundColor:"x1jx94hy",borderTopColor:"x1pdss0j",borderInlineEndColor:"x1593r2a",borderBottomColor:"x81c4ja",borderInlineStartColor:"xewde0t",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",$$css:!0}};l.inlineQPBannerStyles=e}),98);
__d("setHasDismissedSecretConversationsDeprecationBanner.react",["WebStorage","getMWLocalStorageThreadsWithBannerDismissed"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){if(!((e||(e=r("WebStorage"))).getLocalStorage()==null||(e||(e=r("WebStorage"))).isLocalStorageQuotaExceeded())){var a=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(n);Object.prototype.hasOwnProperty.call(a,t)||(a[t]=!0,(e||(e=r("WebStorage"))).setItemGuarded(e.getLocalStorage(),n,JSON.stringify(a)))}}l.setHasDismissedSecretConversationsDeprecationBanner=s}),98);
__d("MWInboxPostcutoverSecureThreadBanner.react",["fbt","ix","I64","LSContactBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWInboxPostcutoverSecureThreadBannerDialog.entrypoint","MWPActor.react","MWXQPCard.react","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","gkx","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWGetOtherUserContact","useMWRedirectToOpenThreadOfDualThread","useMWXEntryPointDialog","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=c||(c=o("react")),p=c.useState,_=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPostcutoverSecureThreadBanner.react"),f=r("gkx")("23433"),g=r("gkx")("18115"),h="ACT";function y(t){var n=o("react-compiler-runtime").c(17),a=t.source,i=t.thread,l=f?s._(/*BTDS*/"Messenger"):s._(/*BTDS*/"Facebook"),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c=u(f?"876158":"781429"),n[0]=c):c=n[0];var y=c,C=i.threadKey,b=i.threadType,v=o("MAWThreadCutover").useIsDualThreadCutoverSecureThread(C),S=o("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(C)!=null,R;n[1]!==C?(R=function(){var e=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED_V2);return!Object.prototype.hasOwnProperty.call(e,(d||(d=o("I64"))).to_string(C))},n[1]=C,n[2]=R):R=n[2];var L=p(R),E=L[0],k=L[1],I=r("useMWRedirectToOpenThreadOfDualThread")(C),T=r("useMWEntrypoint")(),D;n[3]!==T||n[4]!==v||n[5]!==C||n[6]!==b?(D={onVisible:function(){_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_impression_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})})}},n[3]=T,n[4]=v,n[5]=C,n[6]=b,n[7]=D):D=n[7];var x=r("useVisibilityObserver")(D),$=o("MWPActor.react").useActor(),P=o("MAWThreadCutover").useGetCutoverOpenThreadKey(C),N;n[8]!==$||n[9]!==P?(N=P!=null&&(d||(d=o("I64"))).equal($,P),n[8]=$,n[9]=P,n[10]=N):N=n[10];var M=N,w;n[11]===Symbol.for("react.memo_cache_sentinel")?(w=["firstName","name"].concat(o("LSContactBitOffset").contactCapabilityFields),n[11]=w):w=n[11];var A=r("useMWGetOtherUserContact")(C,b,w),F;if(n[12]!==M||n[13]!==(A==null?void 0:A.firstName)||n[14]!==(A==null?void 0:A.name)){var O;F=M===!0?s._(/*BTDS*/"This chat is secured with end-to-end encryption. Your other chat with yourself was archived."):s._(/*BTDS*/"This chat is secured with end-to-end encryption. Your other chat with {name} was archived.",[s._param("name",(O=A==null?void 0:A.firstName)!=null?O:A==null?void 0:A.name)]),n[12]=M,n[13]=A==null?void 0:A.firstName,n[14]=A==null?void 0:A.name,n[15]=F}else F=n[15];var B=F,W;n[16]===Symbol.for("react.memo_cache_sentinel")?(W={},n[16]=W):W=n[16];var q=r("useMWXEntryPointDialog")(r("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint"),W),U=q[0],V=q[1],H=q[2],G=q[3];return E&&v&&S&&g&&m.jsx("div",babelHelpers.extends({"data-testid":void 0},(e||(e=r("stylex"))).props(o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:m.jsx(r("MWXQPCard.react"),{addOnPrimary:{label:s._(/*BTDS*/"Open other chat"),onPress:function(){_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_view_archived_chat_cta_click_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),I()},type:"secondary"},addOnSecondary:{label:s._(/*BTDS*/"Learn more"),onHoverIn:V,onHoverOut:H,onPress:function(){var e;_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_learn_more_cta_click_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),U({isSelfThread:M,otherUserName:(e=A==null?void 0:A.firstName)!=null?e:A==null?void 0:A.name,source:a})},onPressIn:G},body:B,headline:s._(/*BTDS*/"{platformName} upgraded security",[s._param("platformName",l)]),icon:{props:{isDecorative:!0,src:y},type:"image"},onClose:function(){o("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((d||(d=o("I64"))).to_string(C),r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED_V2),_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_dismissed_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),k(!1)},ref:x,secondaryReduceEmphasis:!1,xstyle:o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})}))}l.default=y}),226);
__d("MWInboxPrecutoverOpenThreadBanner.react",["cr:7109","cr:7110","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(4);if(n("cr:7110")!=null){var r;return t[0]!==e?(r=s.jsx(n("cr:7110"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}else if(n("cr:7109")!=null){var a;return t[2]!==e.thread?(a=s.jsx(n("cr:7109"),{thread:e.thread}),t[2]=e.thread,t[3]=a):a=t[3],a}return null}l.default=u}),98);
__d("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{}}},root:r("JSResourceForInteraction")("MWInboxPrecutoverOpenThreadBannerDialog.react").__setRef("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint")};l.default=e}),98);
__d("useMWRedirectToEncryptedThreadOfDualThread",["LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWNavigation","useMWPCreateOneToOneThreadThenNavigate","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(t){var n=o("react-compiler-runtime").c(13),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.mi_act_mapping_table||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(t)},n[0]=a.tables.mi_act_mapping_table,n[1]=t,n[2]=l):l=n[2];var u;n[3]!==a||n[4]!==t?(u=[a,t],n[3]=a,n[4]=t,n[5]=u):u=n[5];var c=o("ReQLSuspense").useFirst(l,u,i.id+":31"),d=r("useMWNavigation")(),m=r("useMWPCreateOneToOneThreadThenNavigate")(d,"preCutoverThread","dualThreadCutoverComposer"),p=c!=null,_=c==null?void 0:c.clientThreadPk,f=c==null?void 0:c.serverThreadKey,g;return n[6]!==_||n[7]!==m||n[8]!==p||n[9]!==d||n[10]!==f||n[11]!==t?(g=function(){p&&f!=null?d.openTabOrInbox({clientThreadKey:_,threadKey:f,threadType:(s||(s=o("LSIntEnum"))).ofNumber(15)},"preCutoverThread",void 0,void 0,{subEntrypoint:"dualThreadCutoverComposer"}):m==null||m(t)},n[6]=_,n[7]=m,n[8]=p,n[9]=d,n[10]=f,n[11]=t,n[12]=g):g=n[12],g}l.default=d}),98);
__d("MWInboxPrecutoverOpenThreadBannerV1.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m,p=m||(m=o("react")),_=m.useState,f=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBannerV1.react");function g(t){var n=o("react-compiler-runtime").c(38),a=t.thread,l=a.threadKey,m=a.threadType,g=(e||(e=r("useReStore")))(),y=o("MWPActor.react").useActor(),C;n[0]!==y||n[1]!==l?(C=(d||(d=o("I64"))).equal(y,l),n[0]=y,n[1]=l,n[2]=C):C=n[2];var b=C,v,S;n[3]!==y||n[4]!==g||n[5]!==b||n[6]!==l||n[7]!==m?(v=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(m)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(g.tables.participants).getKeyRange(l),o("ReQL").fromTableAscending(g.tables.contacts)).filter(function(e){var t=e[1];return b||!(d||(d=o("I64"))).equal(t.id,y)}).map(h):o("ReQL").empty()},S=[g,l,m,y,b],n[3]=y,n[4]=g,n[5]=b,n[6]=l,n[7]=m,n[8]=v,n[9]=S):(v=n[8],S=n[9]);var R=o("ReQLSuspense").useFirst(v,S,i.id+":63"),L=o("MAWThreadCutover").useIsCutoverOpenThread(l),E=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(l),k;n[10]!==a?(k=o("LSThreadBitOffset").has(260,a),n[10]=a,n[11]=k):k=n[11];var I=k,T=r("useMWRedirectToEncryptedThreadOfDualThread")(l),D;n[12]!==l?(D=function(){var e=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);return!Object.prototype.hasOwnProperty.call(e,(d||(d=o("I64"))).to_string(l))},n[12]=l,n[13]=D):D=n[13];var x=_(D),$=x[0],P=x[1],N;if(n[14]!==b||n[15]!==(R==null?void 0:R.firstName)||n[16]!==(R==null?void 0:R.name)){var M;N=b?s._(/*BTDS*/"Messenger is upgrading security, so only your end-to-end encrypted chat will remain active."):s._(/*BTDS*/"Messenger is upgrading security, so only your end-to-end encrypted chat with {name} will remain active.",[s._param("name",(M=R==null?void 0:R.firstName)!=null?M:R==null?void 0:R.name)]),n[14]=b,n[15]=R==null?void 0:R.firstName,n[16]=R==null?void 0:R.name,n[17]=N}else N=n[17];var w=N,A=r("useMWEntrypoint")(),F;n[18]!==m?(F=o("LSMessagingThreadTypeUtil").isArmadilloSecure(m),n[18]=m,n[19]=F):F=n[19];var O=F,B;n[20]!==A||n[21]!==L||n[22]!==O||n[23]!==l||n[24]!==m?(B={onVisible:function(){f.onReady(function(e){return e.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_impression_event",is_cutover:L,thread_id:(d||(d=o("I64"))).to_string(l),thread_type:d.to_string(m),transport_type:O?"ACT":"MI"}})})}},n[20]=A,n[21]=L,n[22]=O,n[23]=l,n[24]=m,n[25]=B):B=n[25];var W=r("useVisibilityObserver")(B),q;return n[26]!==w||n[27]!==A||n[28]!==L||n[29]!==E||n[30]!==I||n[31]!==O||n[32]!==T||n[33]!==W||n[34]!==$||n[35]!==l||n[36]!==m?(q=$&&I&&!L&&!E&&p.jsx("div",babelHelpers.extends({"data-testid":void 0},(c||(c=r("stylex"))).props(o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:p.jsx(r("MWXQPCard.react"),{addOnPrimary:{label:s._(/*BTDS*/"Switch to other chat"),onPress:function(){f.onReady(function(e){return e.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_cta_click_event",is_cutover:L,thread_id:(d||(d=o("I64"))).to_string(l),thread_type:d.to_string(m),transport_type:O?"ACT":"MI"}})}),T()},type:"secondary"},body:w,headline:s._(/*BTDS*/"This chat will be archived soon"),icon:{props:{src:u("876158")},type:"image"},onClose:function(){o("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((d||(d=o("I64"))).to_string(l),r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED),f.onReady(function(e){return e.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_dismissed_event",is_cutover:L,thread_id:(d||(d=o("I64"))).to_string(l),thread_type:d.to_string(m),transport_type:O?"ACT":"MI"}})}),P(!1)},ref:W,xstyle:o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),n[26]=w,n[27]=A,n[28]=L,n[29]=E,n[30]=I,n[31]=O,n[32]=T,n[33]=W,n[34]=$,n[35]=l,n[36]=m,n[37]=q):q=n[37],q}function h(e){var t=e[1];return t}l.default=g}),226);
__d("MWInboxPrecutoverOpenThreadBannerV2.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWInboxPrecutoverOpenThreadBannerDialog.entrypoint","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","gkx","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m,p=m||(m=o("react")),_=m.useState,f=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBannerV2.react"),g="MI";function h(t){var n=o("react-compiler-runtime").c(43),a=t.source,l=t.thread,m=l.threadKey,h=l.threadType,C=(e||(e=r("useReStore")))(),b=o("MWPActor.react").useActor(),v;n[0]!==b||n[1]!==m?(v=(d||(d=o("I64"))).equal(b,m),n[0]=b,n[1]=m,n[2]=v):v=n[2];var S=v,R,L;n[3]!==b||n[4]!==C||n[5]!==S||n[6]!==m||n[7]!==h?(R=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(h)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(C.tables.participants).getKeyRange(m),o("ReQL").fromTableAscending(C.tables.contacts)).filter(function(e){var t=e[1];return S||!(d||(d=o("I64"))).equal(t.id,b)}).map(y):o("ReQL").empty()},L=[C,m,h,b,S],n[3]=b,n[4]=C,n[5]=S,n[6]=m,n[7]=h,n[8]=R,n[9]=L):(R=n[8],L=n[9]);var E=o("ReQLSuspense").useFirst(R,L,i.id+":71"),k=o("MAWThreadCutover").useIsCutoverOpenThread(m),I=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(m),T;n[10]!==l?(T=o("LSThreadBitOffset").has(260,l),n[10]=l,n[11]=T):T=n[11];var D=T,x=r("useMWRedirectToEncryptedThreadOfDualThread")(m),$=r("useMWEntrypoint")(),P;n[12]!==m?(P=function(){var e=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED_V2);return!Object.prototype.hasOwnProperty.call(e,(d||(d=o("I64"))).to_string(m))},n[12]=m,n[13]=P):P=n[13];var N=_(P),M=N[0],w=N[1],A;n[14]!==$||n[15]!==k||n[16]!==m||n[17]!==h?(A={onVisible:function(){f.onReady(function(e){return e.log(function(){return{entry_point:$,event_type:"secret_conversation_pre_cutover_thread_banner_impression_event",is_cutover:k,thread_id:(d||(d=o("I64"))).to_string(m),thread_type:d.to_string(h),transport_type:g}})})}},n[14]=$,n[15]=k,n[16]=m,n[17]=h,n[18]=A):A=n[18];var F=r("useVisibilityObserver")(A),O;if(n[19]!==S||n[20]!==(E==null?void 0:E.firstName)||n[21]!==(E==null?void 0:E.name)){var B;O=S?s._(/*BTDS*/"You have two chats with yourself. The other chat is end-to-end encrypted, so it will stay active. Archived chats are still viewable."):s._(/*BTDS*/"You have two chats with {name}. The other chat is end-to-end encrypted, so it will stay active. Archived chats are still viewable.",[s._param("name",(B=E==null?void 0:E.firstName)!=null?B:E==null?void 0:E.name)]),n[19]=S,n[20]=E==null?void 0:E.firstName,n[21]=E==null?void 0:E.name,n[22]=O}else O=n[22];var W=O,q;n[23]===Symbol.for("react.memo_cache_sentinel")?(q=r("gkx")("23433")?u("876158"):u("781429"),n[23]=q):q=n[23];var U=q,V;n[24]===Symbol.for("react.memo_cache_sentinel")?(V={},n[24]=V):V=n[24];var H=r("useMWXEntryPointDialog")(r("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint"),V),G=H[0],z=H[1],j=H[2],K=H[3],Q;return n[25]!==W||n[26]!==$||n[27]!==M||n[28]!==k||n[29]!==I||n[30]!==D||n[31]!==S||n[32]!==z||n[33]!==j||n[34]!==K||n[35]!==G||n[36]!==E||n[37]!==x||n[38]!==F||n[39]!==a||n[40]!==m||n[41]!==h?(Q=M&&D&&!k&&!I&&p.jsx("div",babelHelpers.extends({"data-testid":void 0},(c||(c=r("stylex"))).props(o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:p.jsx(r("MWXQPCard.react"),{addOnPrimary:{label:s._(/*BTDS*/"Open other chat"),onPress:function(){f.onReady(function(e){return e.log(function(){return{entry_point:$,event_type:"secret_conversation_pre_cutover_thread_banner_other_chat_cta_click_event",is_cutover:k,thread_id:(d||(d=o("I64"))).to_string(m),thread_type:d.to_string(h),transport_type:g}})}),x()},type:"secondary"},addOnSecondary:{label:s._(/*BTDS*/"Learn more"),onHoverIn:z,onHoverOut:j,onPress:function(){f.onReady(function(e){return e.log(function(){return{entry_point:$,event_type:"secret_conversation_pre_cutover_thread_banner_learn_more_cta_click_event",is_cutover:k,thread_id:(d||(d=o("I64"))).to_string(m),thread_type:d.to_string(h),transport_type:g}})}),G({entryPoint:$,isCutoverOpenThread:k,isSecure:!1,isSelfThread:S,otherUserOrSelf:E,source:a,threadKey:m,threadType:h})},onPressIn:K},body:W,headline:s._(/*BTDS*/"This chat will be archived soon"),icon:{props:{isDecorative:!0,src:U},type:"image"},onClose:function(){o("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((d||(d=o("I64"))).to_string(m),r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED_V2),f.onReady(function(e){return e.log(function(){return{entry_point:$,event_type:"secret_conversation_pre_cutover_thread_banner_dismissed_event",is_cutover:k,thread_id:(d||(d=o("I64"))).to_string(m),thread_type:d.to_string(h),transport_type:g}})}),w(!1)},ref:F,secondaryReduceEmphasis:!1,xstyle:o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),n[25]=W,n[26]=$,n[27]=M,n[28]=k,n[29]=I,n[30]=D,n[31]=S,n[32]=z,n[33]=j,n[34]=K,n[35]=G,n[36]=E,n[37]=x,n[38]=F,n[39]=a,n[40]=m,n[41]=h,n[42]=Q):Q=n[42],Q}function y(e){var t=e[1];return t}l.default=h}),226);
__d("MWPThreadPreview.react",["CometHeroInteractionWithDiv.react","FBLogger","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSLocalCreateOptimisticGroupThreadStoredProcedure","LSMessagingThreadTypeUtil","LSVec","LSVerifyContactRowExistsStoredProcedure","LSVerifyThreadRowExistsStoredProcedure","MWChatInteraction","MWPActor.react","MWPThreadThemeProvider.react","MWThreadKey.react","MWXSpinner.react","Promise","ReQL","ReQLSuspense","cr:13308","cr:9777","gkx","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useEffect,f=p.useMemo,g={preview:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0}};function h(t){var a=o("react-compiler-runtime").c(8),l=(c||(c=r("useReStore")))(),u;a[0]!==l||a[1]!==t?(u=function(){r("promiseDone")(l.runInTransaction(function(a){return(e||(e=n("Promise"))).all(t.map(function(e){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(a),{authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:s.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:s.ofNumber(r("LSContactIdType").FBID),contactType:s.ofNumber(r("LSContactType").USER),contactViewerRelationship:s.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:s.ofNumber(r("LSContactGender").UNKNOWN),id:e.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:s.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite",void 0,void 0,i.id+":89"))},a[0]=l,a[1]=t,a[2]=u):u=a[2];var d;a[3]!==t?(d=JSON.stringify(t.map(y)),a[3]=t,a[4]=d):d=a[4];var m;a[5]!==l||a[6]!==d?(m=[l,d],a[5]=l,a[6]=d,a[7]=m):m=a[7],_(u,m)}function y(e){return(u||(u=o("I64"))).to_string(e.id)}function C(e){var t=o("react-compiler-runtime").c(25),n=e.children,a=e.renderThreadPreview,i=e.renderThreadView,l=e.thread,s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=o("MWChatInteraction").get("open_with_tokens"),t[0]=s):s=t[0];var c=s,d,p;if(t[1]!==l.threadKey||t[2]!==l.threadType?(d=function(){c!=null&&(r("InteractionTracingMetrics").addAnnotation(c,"thread_id",(u||(u=o("I64"))).to_string(l.threadKey)),r("InteractionTracingMetrics").addAnnotation(c,"thread_type",u.to_string(l.threadType)),r("InteractionTracingMetrics").addAnnotationBoolean(c,"is_secure",o("LSMessagingThreadTypeUtil").isArmadilloSecure(l.threadType)))},p=[c,l.threadKey,l.threadType],t[1]=l.threadKey,t[2]=l.threadType,t[3]=d,t[4]=p):(d=t[3],p=t[4]),_(d,p),a!=null){var f;return t[5]!==n||t[6]!==a||t[7]!==l?(f=a(l,n),t[5]=n,t[6]=a,t[7]=l,t[8]=f):f=t[8],f}var h=l.threadKey,y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x78zum5 xdt5ytf x1iyjqo2 x6prxxf x2lwn1j"},t[9]=y):y=t[9];var C=l.themeFbid,b;t[10]!==i||t[11]!==l?(b=i(l),t[10]=i,t[11]=l,t[12]=b):b=t[12];var v;t[13]!==b||t[14]!==l.themeFbid?(v=m.jsx(r("CometHeroInteractionWithDiv.react"),{interactionDesc:"MWV2_CHAT_TAB",interactionUUID:c,pageletName:"ChatTab",xstyle:g.preview,children:m.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:C,children:b})}),t[13]=b,t[14]=l.themeFbid,t[15]=v):v=t[15];var S;t[16]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x2lah0s x879a55"},t[16]=S):S=t[16];var R;t[17]!==n?(R=m.jsx("div",babelHelpers.extends({},S,{children:n})),t[17]=n,t[18]=R):R=t[18];var L;t[19]!==R||t[20]!==v?(L=m.jsxs("div",babelHelpers.extends({},y,{children:[v,R]})),t[19]=R,t[20]=v,t[21]=L):L=t[21];var E;return t[22]!==L||t[23]!==l.threadKey?(E=m.jsx(o("MWThreadKey.react").MWThreadKeyProvider,{id:h,children:L}),t[22]=L,t[23]=l.threadKey,t[24]=E):E=t[24],E}function b(e){var t=o("react-compiler-runtime").c(22),n=e.children,a=e.recipientToken,l=e.renderThreadPreview,u=e.renderThreadView,d=e.setPreviewThread,p=(c||(c=r("useReStore")))(),f=a.threadType,g=a.id,y;t[0]!==a?(y=[a],t[0]=a,t[1]=y):y=t[1],h(y);var b,v;t[2]!==g||t[3]!==p||t[4]!==f?(b=function(){r("promiseDone")(p.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(s||(s=o("LSIntEnum"))).ofNumber(1),threadKey:g,threadType:f})},"readwrite",void 0,void 0,i.id+":186"))},v=[p,g,f],t[2]=g,t[3]=p,t[4]=f,t[5]=b,t[6]=v):(b=t[5],v=t[6]),o("Int64Hooks").useEffectInt64(b,v);var S;t[7]!==g||t[8]!==p.tables.threads?(S=function(){return o("ReQL").fromTableAscending(p.tables.threads).getKeyRange(g)},t[7]=g,t[8]=p.tables.threads,t[9]=S):S=t[9];var R;t[10]!==g||t[11]!==p?(R=[p,g],t[10]=g,t[11]=p,t[12]=R):R=t[12];var L=o("ReQLSuspense").useFirst(S,R,i.id+":197"),E,k;if(t[13]!==d||t[14]!==L?(E=function(){d(L)},k=[d,L],t[13]=d,t[14]=L,t[15]=E,t[16]=k):(E=t[15],k=t[16]),_(E,k),L!=null){var I;return t[17]!==n||t[18]!==l||t[19]!==u||t[20]!==L?(I=m.jsx(C,{renderThreadPreview:l,renderThreadView:u,thread:L,children:n}),t[17]=n,t[18]=l,t[19]=u,t[20]=L,t[21]=I):I=t[21],I}else return null}function v(e,t,n){var a=o("react-compiler-runtime").c(21),l=(c||(c=r("useReStore")))(),s=(u||(u=o("I64"))).to_string(o("MWPActor.react").useActor()),d;a[0]!==l.tables.participants||a[1]!==t?(d=function(){return o("ReQL").fromTableAscending(l.tables.participants).filter(function(e){return t.has((u||(u=o("I64"))).to_string(e.contactId))}).map(k)},a[0]=l.tables.participants,a[1]=t,a[2]=d):d=a[2];var m;a[3]!==l||a[4]!==t?(m=[l,t],a[3]=l,a[4]=t,a[5]=m):m=a[5];var p=o("ReQLSuspense").useArray(d,m,i.id+":233"),_;a[6]!==s||a[7]!==l.tables.participants||a[8]!==l.tables.threads||a[9]!==n||a[10]!==p||a[11]!==t||a[12]!==e.length?(_=function(){var r=new Set(p);return o("ReQL").fromTableAscending(l.tables.threads).filter(function(e){return(u||(u=o("I64"))).equal(e.threadType,n)}).filter(E).filter(function(e){var t=e.clientThreadKey;return t!=null?r.has((u||(u=o("I64"))).to_string(t)):!1}).filter(L).map(function(e){var t=e.clientThreadKey,n=o("ReQLSuspense").toArray(o("ReQL").fromTableDescending(l.tables.participants.index("threadKeyReadWatermarkTimestampMs")).getKeyRange(t).map(R).filter(function(e){return e!==s}),i.id+":273");return{participantsWithoutActor:n,thread:e}}).filter(function(n){var r=n.participantsWithoutActor;return e.length===1&&r.length===0?!0:r.every(function(e){return t.has(e)})?r.length===t.size:!1}).map(S)},a[6]=s,a[7]=l.tables.participants,a[8]=l.tables.threads,a[9]=n,a[10]=p,a[11]=t,a[12]=e.length,a[13]=_):_=a[13];var f;return a[14]!==s||a[15]!==l||a[16]!==n||a[17]!==p||a[18]!==t||a[19]!==e.length?(f=[p,l,n,e.length,s,t],a[14]=s,a[15]=l,a[16]=n,a[17]=p,a[18]=t,a[19]=e.length,a[20]=f):f=a[20],o("ReQLSuspense").useFirst(_,f,i.id+":246")}function S(e){return e.thread}function R(e){return(u||(u=o("I64"))).to_string(e.contactId)}function L(e){var t=e.clientThreadKey;return t!=null}function E(e){return e.threadName==null}function k(e){return(u||(u=o("I64"))).to_string(e.threadKey)}function I(e,t,a,l,d,m){var p=o("react-compiler-runtime").c(9),_=d===void 0?null:d,f=m===void 0?null:m,g=(c||(c=r("useReStore")))(),h=e==null,y,C;p[0]!==l||p[1]!==g||p[2]!==h||p[3]!==_||p[4]!==f||p[5]!==t||p[6]!==a?(y=function(){if(h){if((u||(u=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(2))){r("promiseDone")(g.runInTransaction(function(e){return r("LSLocalCreateOptimisticGroupThreadStoredProcedure")(r("LSFactory")(e),{checkExistingThreads:l,participants:r("LSVec").ofArray(a.map(D)),threadMetadata:_!=null?_:void 0,threadName:f!=null?f:void 0}).then(T)},"readwrite",void 0,void 0,i.id+":332"));return}else if((u||(u=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(15))&&a.length===1&&n("cr:13308")!=null&&r("gkx")("17734")){r("promiseDone")(n("cr:13308").call(g,a[0].id,void 0,"MAWThreadPreview"));return}else if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(t)){if(n("cr:9777")==null)return;r("promiseDone")(g.runInTransaction(function(e){return n("cr:9777").call(e,a,t)},"readwrite",void 0,void 0,i.id+":373"));return}r("FBLogger")("messenger_web_creation").mustfix("Don't know how to create optimistic thread for thread of thread type %s",t!=null?(u||(u=o("I64"))).to_string(t):"")}},C=[l,g,h,a,_,t,f],p[0]=l,p[1]=g,p[2]=h,p[3]=_,p[4]=f,p[5]=t,p[6]=a,p[7]=y,p[8]=C):(y=p[7],C=p[8]),o("Int64Hooks").useEffectInt64(y,C)}function T(){}function D(e){return e.id}function x(e){var t=o("react-compiler-runtime").c(8),n=e.checkExistingThreads,r=e.children,a=e.renderThreadPreview,i=e.renderThreadView,l=e.setPreviewThread,s=e.threadMetadata,u=e.threadName,c=e.threadType,d=e.tokenContactIdsMaybeExcludingActor,p=e.tokens,f=e.tokensMaybeExcludingActor,g=s===void 0?null:s,y=u===void 0?null:u,b=v(f,d,c);h(f),I(b,c,p,n,g,y);var S;if(t[0]!==l||t[1]!==b?(S=function(){l(b)},t[0]=l,t[1]=b,t[2]=S):S=t[2],_(S,void 0),b!=null){var R;return t[3]!==r||t[4]!==a||t[5]!==i||t[6]!==b?(R=m.jsx(C,{renderThreadPreview:a,renderThreadView:i,thread:b,children:r}),t[3]=r,t[4]=a,t[5]=i,t[6]=b,t[7]=R):R=t[7],R}else return null}function $(e,t,n,a,l,d){var m=o("react-compiler-runtime").c(28),p=(c||(c=r("useReStore")))(),_=(u||(u=o("I64"))).to_string(o("MWPActor.react").useActor()),f;m[0]!==p.tables.participants||m[1]!==t?(f=function(){return o("ReQL").fromTableAscending(p.tables.participants).filter(function(e){return t.has((u||(u=o("I64"))).to_string(e.contactId))}).map(w)},m[0]=p.tables.participants,m[1]=t,m[2]=f):f=m[2];var g;m[3]!==p||m[4]!==t?(g=[p,t],m[3]=p,m[4]=t,m[5]=g):g=m[5];var h=o("ReQLSuspense").useArray(f,g,i.id+":460"),y=r("gkx")("24167")||r("gkx")("33038"),C;m[6]!==_||m[7]!==a||m[8]!==p.tables.participants||m[9]!==p.tables.threads||m[10]!==d||m[11]!==l||m[12]!==n||m[13]!==h||m[14]!==t||m[15]!==e.length?(C=function(){var c=new Set(h),m=function(){var t=e.length>1;if(t){if(d)return o("ReQL").fromTableAscending(p.tables.threads).filter(M);if(r("gkx")("5703"))return o("ReQL").fromTableDescending(p.tables.threads.index("lastActivityTimestampMs"))}return o("ReQL").fromTableAscending(p.tables.threads).filter(function(e){return(u||(u=o("I64"))).equal(e.threadType,n)})},f=m();return f.filter(function(e){return y&&l!=null?e.threadName===l:e.threadName==null}).filter(function(e){return a?!0:(u||(u=o("I64"))).equal(e.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))}).filter(function(e){return c.has((u||(u=o("I64"))).to_string(e.threadKey))}).map(function(e){var t=o("ReQLSuspense").toArray(o("ReQL").fromTableDescending(p.tables.participants.index("threadKeyReadWatermarkTimestampMs")).getKeyRange(e.threadKey).map(N),i.id+":532");return{participantsWithActor:t,thread:e}}).filter(function(e){var n=e.participantsWithActor,r=n.filter(function(e){return e!==_});return r.length===0&&n.length===1?!0:n.length===r.length||r.length!==t.size?!1:r.every(function(e){return t.has(e)})}).map(P)},m[6]=_,m[7]=a,m[8]=p.tables.participants,m[9]=p.tables.threads,m[10]=d,m[11]=l,m[12]=n,m[13]=h,m[14]=t,m[15]=e.length,m[16]=C):C=m[16];var b;m[17]!==n?(b=JSON.stringify(n),m[17]=n,m[18]=b):b=m[18];var v;return m[19]!==_||m[20]!==a||m[21]!==p||m[22]!==b||m[23]!==l||m[24]!==h||m[25]!==t||m[26]!==e?(v=[h,p,b,a,e,t,_,l,y],m[19]=_,m[20]=a,m[21]=p,m[22]=b,m[23]=l,m[24]=h,m[25]=t,m[26]=e,m[27]=v):v=m[27],o("ReQLSuspense").useFirst(C,v,i.id+":476")}function P(e){return e.thread}function N(e){return(u||(u=o("I64"))).to_string(e.contactId)}function M(e){return(u||(u=o("I64"))).equal(e.threadType,(s||(s=o("LSIntEnum"))).ofNumber(16))}function w(e){return(u||(u=o("I64"))).to_string(e.threadKey)}function A(e){var t=o("react-compiler-runtime").c(23),n=e.checkExistingThreads,r=e.children,a=e.renderThreadPreview,i=e.renderThreadView,l=e.secureThreadToggleEnabled,s=e.setPreviewThread,u=e.threadMetadata,c=e.threadName,d=e.threadType,p=e.tokens,f=e.tokensMaybeExcludingActor,g=u===void 0?null:u,h=c===void 0?null:c,y,b;t[0]!==f?(b=new Set(f.map(F)),t[0]=f,t[1]=b):b=t[1],y=b;var v=y,S=$(f,v,d,n,h,l),R,L;if(t[2]!==s||t[3]!==S?(R=function(){S!=null&&s(S)},L=[s,S],t[2]=s,t[3]=S,t[4]=R,t[5]=L):(R=t[4],L=t[5]),_(R,L),S!=null){var E;return t[6]!==r||t[7]!==a||t[8]!==i||t[9]!==S?(E=m.jsx(C,{renderThreadPreview:a,renderThreadView:i,thread:S,children:r}),t[6]=r,t[7]=a,t[8]=i,t[9]=S,t[10]=E):E=t[10],E}else{var k;return t[11]!==n||t[12]!==r||t[13]!==a||t[14]!==i||t[15]!==s||t[16]!==g||t[17]!==h||t[18]!==d||t[19]!==v||t[20]!==p||t[21]!==f?(k=m.jsx(x,{checkExistingThreads:n,renderThreadPreview:a,renderThreadView:i,setPreviewThread:s,threadMetadata:g,threadName:h,threadType:d,tokenContactIdsMaybeExcludingActor:v,tokens:p,tokensMaybeExcludingActor:f,children:r}),t[11]=n,t[12]=r,t[13]=a,t[14]=i,t[15]=s,t[16]=g,t[17]=h,t[18]=d,t[19]=v,t[20]=p,t[21]=f,t[22]=k):k=t[22],k}}function F(e){return(u||(u=o("I64"))).to_string(e.id)}function O(e){var t=o("react-compiler-runtime").c(59),n=e.areWeCreatingASecureThread,a=e.checkExistingThreads,i=e.children,l=e.isCutoverInProgress,c=e.nullstate,d=e.renderThreadPreview,p=e.renderThreadView,f=e.secureThreadToggleEnabled,g=e.setPreviewThread,h=e.threadMetadata,y=e.threadName,C=e.tokens,v=a===void 0?!0:a,S=l===void 0?!1:l,R=c===void 0?null:c,L=f===void 0?!1:f,E=h===void 0?null:h,k=y===void 0?null:y,I=o("MWPActor.react").useActor(),T,D;if(t[0]!==I||t[1]!==C){var x;t[3]!==I?(x=function(t){return!(u||(u=o("I64"))).equal(t.id,I)},t[3]=I,t[4]=x):x=t[4],D=C.filter(x),t[0]=I,t[1]=C,t[2]=D}else D=t[2];T=D;var $=T,P;t[5]!==g||t[6]!==C.length?(P=function(){C.length===0&&g()},t[5]=g,t[6]=C.length,t[7]=P):P=t[7];var N;if(t[8]!==g||t[9]!==C?(N=[g,C],t[8]=g,t[9]=C,t[10]=N):N=t[10],_(P,N),S){var M;return t[11]===Symbol.for("react.memo_cache_sentinel")?(M=m.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:m.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24})}),t[11]=M):M=t[11],M}if(C.length===0)return R;var w=$.length;if(w!==1){if(w===0){if(n){var F;t[12]===Symbol.for("react.memo_cache_sentinel")?(F=(s||(s=o("LSIntEnum"))).ofNumber(15),t[12]=F):F=t[12];var O;return t[13]!==v||t[14]!==i||t[15]!==d||t[16]!==p||t[17]!==L||t[18]!==g||t[19]!==E||t[20]!==C?(O=m.jsx(A,{checkExistingThreads:v,renderThreadPreview:d,renderThreadView:p,secureThreadToggleEnabled:L,setPreviewThread:g,threadMetadata:E,threadType:F,tokens:C,tokensMaybeExcludingActor:C,children:i}),t[13]=v,t[14]=i,t[15]=d,t[16]=p,t[17]=L,t[18]=g,t[19]=E,t[20]=C,t[21]=O):O=t[21],O}var B;return t[22]!==i||t[23]!==d||t[24]!==p||t[25]!==g||t[26]!==C[0]?(B=m.jsx(b,{recipientToken:C[0],renderThreadPreview:d,renderThreadView:p,setPreviewThread:g,children:i}),t[22]=i,t[23]=d,t[24]=p,t[25]=g,t[26]=C[0],t[27]=B):B=t[27],B}}else{var W=$[0];if(v)if(n){var q;t[28]===Symbol.for("react.memo_cache_sentinel")?(q=(s||(s=o("LSIntEnum"))).ofNumber(15),t[28]=q):q=t[28];var U;return t[29]!==v||t[30]!==i||t[31]!==d||t[32]!==p||t[33]!==L||t[34]!==g||t[35]!==E||t[36]!==C||t[37]!==$?(U=m.jsx(A,{checkExistingThreads:v,renderThreadPreview:d,renderThreadView:p,secureThreadToggleEnabled:L,setPreviewThread:g,threadMetadata:E,threadType:q,tokens:C,tokensMaybeExcludingActor:$,children:i}),t[29]=v,t[30]=i,t[31]=d,t[32]=p,t[33]=L,t[34]=g,t[35]=E,t[36]=C,t[37]=$,t[38]=U):U=t[38],U}else{var V;return t[39]!==i||t[40]!==W||t[41]!==d||t[42]!==p||t[43]!==g?(V=m.jsx(b,{recipientToken:W,renderThreadPreview:d,renderThreadView:p,setPreviewThread:g,children:i}),t[39]=i,t[40]=W,t[41]=d,t[42]=p,t[43]=g,t[44]=V):V=t[44],V}}var H;t[45]!==n?(H=n?(s||(s=o("LSIntEnum"))).ofNumber(16):(s||(s=o("LSIntEnum"))).ofNumber(2),t[45]=n,t[46]=H):H=t[46];var G;return t[47]!==v||t[48]!==i||t[49]!==d||t[50]!==p||t[51]!==L||t[52]!==g||t[53]!==H||t[54]!==E||t[55]!==k||t[56]!==C||t[57]!==$?(G=m.jsx(A,{checkExistingThreads:v,renderThreadPreview:d,renderThreadView:p,secureThreadToggleEnabled:L,setPreviewThread:g,threadMetadata:E,threadName:k,threadType:H,tokens:C,tokensMaybeExcludingActor:$,children:i}),t[47]=v,t[48]=i,t[49]=d,t[50]=p,t[51]=L,t[52]=g,t[53]=H,t[54]=E,t[55]=k,t[56]=C,t[57]=$,t[58]=G):G=t[58],G}l.default=O}),98);
__d("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative",["Int64Hooks","LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=o("react-compiler-runtime").c(12),l;i[0]!==a?(l=a===void 0?{shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1}:a,i[0]=a,i[1]=l):l=i[1];var s=l,u=o("MWChatStateV2.react").useDispatch(),c=t==null?void 0:t.threadKey,d=t==null?void 0:t.clientThreadKey,m=t==null?void 0:t.threadType,p=t==null?void 0:t.authorityLevel,_,f;i[2]!==p||i[3]!==u||i[4]!==d||i[5]!==c||i[6]!==m||i[7]!==s.shouldClearOldHiddenTab||i[8]!==s.shouldUpdateThreadType||i[9]!==n.tabId?(_=function(){c!=null&&p!=null&&(e||(e=o("LSIntEnum"))).toNumber(p)>=r("LSAuthorityLevel").AUTHORITATIVE&&u(o("MWChatStateActions").updateThreadKeyDescriptor(n.tabId,c,d,s.shouldUpdateThreadType?m:void 0,{shouldClearOldHiddenTab:s.shouldClearOldHiddenTab}))},f=[n.tabId,c,d,u,p,m,s.shouldUpdateThreadType,s.shouldClearOldHiddenTab],i[2]=p,i[3]=u,i[4]=d,i[5]=c,i[6]=m,i[7]=s.shouldClearOldHiddenTab,i[8]=s.shouldUpdateThreadType,i[9]=n.tabId,i[10]=_,i[11]=f):(_=i[10],f=i[11]),o("Int64Hooks").useEffectInt64(_,f)}l.default=s}),98);
__d("MWOptimisticSecureThreadPreview.react",["CometPlaceholder.react","FDSProgressRingIndeterminate.react","I64","LSIntEnum","LSThreadAttributionStore","MWComposerGating.react","MWLSChatTabHeaderRoot.react","MWOpenAndSecureThreadView.react","MWPThreadPreview.react","MWPThreadThemeProvider.react","MWV2TabContainer","ReQL","ReQLSuspense","cr:9410","react","react-compiler-runtime","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useEffect,_=m.useMemo,f=m.useState;function g(t){var a,l=o("react-compiler-runtime").c(25),c=t.otherContactIdForOptimisticSecureThread,m=t.tab,_=(e||(e=r("useReStore")))(),g,y;l[0]!==_||l[1]!==c?(g=function(){return c==null?o("ReQL").empty():o("ReQL").fromTableAscending(_.tables.contacts,["blockedByViewerStatus","name","profilePictureUrl","id"]).getKeyRange(c)},y=[_,c],l[0]=_,l[1]=c,l[2]=g,l[3]=y):(g=l[2],y=l[3]);var C=o("ReQLSuspense").useFirst(g,y,i.id+":58"),b=f(),v=b[0],S=b[1],R;l[4]===Symbol.for("react.memo_cache_sentinel")?(R={shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1},l[4]=R):R=l[4],r("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(v,m,R);var L=v==null?void 0:v.threadKey,E,k;l[5]!==c||l[6]!==L?(E=function(){if(!(L==null||c==null)){var e=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(s||(s=o("I64"))).to_string(c));e.value!=="unknown"&&(e.type==="LSThreadAttribution"?o("LSThreadAttributionStore").setLSMessagingThreadAttribution((s||(s=o("I64"))).to_string(L),s.to_string(e.value)):o("LSThreadAttributionStore").setSource((s||(s=o("I64"))).to_string(L),e.value))}},k=[L,c],l[5]=c,l[6]=L,l[7]=E,l[8]=k):(E=l[7],k=l[8]),p(E,k);var I;l[9]===Symbol.for("react.memo_cache_sentinel")?(I=d.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:d.jsx(r("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})}),l[9]=I):I=l[9];var T=I,D;if(l[10]!==v){var x;D=v!=null&&d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.Composer",children:d.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:v.themeFbid,children:d.jsx(o("MWComposerGating.react").MWChatComposerGating,{isPreviewThread:!0,thread:v},(s||(s=o("I64"))).to_string((x=v.clientThreadKey)!=null?x:v.threadKey))})}),l[10]=v,l[11]=D}else D=l[11];var $=D,P,N;l[12]!==C?(N=C!=null?[{blockedByViewerStatus:C.blockedByViewerStatus,contextLine:"",displayName:C.name,id:C.id,profilePicUrl:C.profilePictureUrl,threadType:(u||(u=o("LSIntEnum"))).ofNumber(15),type_:(u||(u=o("LSIntEnum"))).ofNumber(1)}]:[],l[12]=C,l[13]=N):N=l[13],P=N;var M=P,w;l[14]!==M||l[15]!==$?(w=d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.ThreadPreview",children:d.jsx(r("MWPThreadPreview.react"),{areWeCreatingASecureThread:!0,nullstate:T,renderThreadView:h,setPreviewThread:S,tokens:M,children:$})}),l[14]=M,l[15]=$,l[16]=w):w=l[16];var A=w,F=(a=v==null?void 0:v.threadKey)!=null?a:void 0,O;l[17]!==A||l[18]!==v||l[19]!==m?(O=n("cr:9410")!=null?d.jsx(n("cr:9410"),{children:function(t){return d.jsxs(d.Fragment,{children:[v&&d.jsx(r("MWLSChatTabHeaderRoot.react"),{pushPage:t,tab:m,threadKey:v.threadKey}),A]})}}):d.jsxs(d.Fragment,{children:[v&&d.jsx(r("MWLSChatTabHeaderRoot.react"),{tab:m,threadKey:v.threadKey}),A]}),l[17]=A,l[18]=v,l[19]=m,l[20]=O):O=l[20];var B;return l[21]!==F||l[22]!==O||l[23]!==m?(B=d.jsx(o("MWV2TabContainer").MWV2TabContainer,{tab:m,threadKey:F,children:O}),l[21]=F,l[22]=O,l[23]=m,l[24]=B):B=l[24],B}function h(e){return d.jsx(r("MWOpenAndSecureThreadView.react"),{thread:e})}h.displayName=h.name+" [from "+i.id+"]",l.default=g}),98);
__d("MWOnDemandCutoverThreadPreview.react",["Int64Hooks","MAWOnDemandCutoverTrigger","MWOptimisticSecureThreadPreview.react","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.otherContactIdForOnDemandCutoverThread,a=e.tab,i=r("useAsyncReStore")(),l,u;t[0]!==i||t[1]!==n?(l=function(){n!=null&&r("promiseDone")(i,function(e){o("MAWOnDemandCutoverTrigger").triggerOnDemandCutoverAndCreateSecureThread(e,n,"chatTab")})},u=[i,n],t[0]=i,t[1]=n,t[2]=l,t[3]=u):(l=t[2],u=t[3]),o("Int64Hooks").useEffectInt64(l,u);var c;return t[4]!==n||t[5]!==a?(c=s.jsx(r("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:n,tab:a}),t[4]=n,t[5]=a,t[6]=c):c=t[6],c}l.default=u}),98);
__d("MWPNewMessageAnnouncementHeader.react",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPForwardedContent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(2),n=e.message,r=e.outgoing,a=o("MWPForwardedContent").useTitle(n,r),i;return t[0]!==a?(i=s._(/*BTDS*/"{forward title}",[s._param("forward title",a)]),t[0]=a,t[1]=i):i=t[1],i}function p(e){var t,n,a=o("react-compiler-runtime").c(11),i=e.message,l=e.participant,p=e.sender,_=o("MWPActor.react").useActor(),f;a[0]!==_||a[1]!==p.id?(f=(u||(u=o("I64"))).equal(p.id,_),a[0]=_,a[1]=p.id,a[2]=f):f=a[2];var g=f,h=i.replySourceTypeV2!=null&&(u||(u=o("I64"))).equal(i.replySourceTypeV2,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)),y=(t=(n=l==null?void 0:l.nickname)!=null?n:p.firstName)!=null?t:p.name;if(h){var C;return a[3]!==g||a[4]!==i?(C=d.jsx(m,{message:i,outgoing:g}),a[3]=g,a[4]=i,a[5]=C):C=a[5],C}var b=i.replySnippet;if(b!=null){var v;return a[6]!==b?(v=s._(/*BTDS*/"{reply snippet}",[s._param("reply snippet",b)]),a[6]=b,a[7]=v):v=a[7],v}else if(g){var S;return a[8]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"You sent,"),a[8]=S):S=a[8],S}else{var R;return a[9]!==y?(R=s._(/*BTDS*/"{name of sender} sent,",[s._param("name of sender",y)]),a[9]=y,a[10]=R):R=a[10],R}}l.default=p}),226);
__d("useMWPAnnounceMessageForScreenReader",["I64","Int64Hooks","MWPActor.react","Promise","ReQL","ServerTime","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useRef;function m(t,a){var i=o("react-compiler-runtime").c(12),l=(s||(s=r("useReStore")))(),c=o("MWPActor.react").useActor(),m;i[0]===Symbol.for("react.memo_cache_sentinel")?(m=o("ServerTime").getMillis(),i[0]=m):m=i[0];var p=d(m),_=a.threadKey,f;i[1]!==t||i[2]!==l.tables.contacts||i[3]!==l.tables.messages||i[4]!==l.tables.participants||i[5]!==_?(f=function(){return o("ReQL").fromTableAscending(l.tables.messages).getKeyRange(_).subscribe(function(a,i){if(i.operation==="add"){var s=i.value;(u||(u=o("I64"))).to_float(s.timestampMs)>p.current&&(p.current=(u||(u=o("I64"))).to_float(s.timestampMs),r("promiseDone")((e||(e=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(s.senderId)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(s.threadKey,s.senderId))]),function(e){var n=e[0],r=e[1];if(n!=null)return t(s,n,r)}))}})},i[1]=t,i[2]=l.tables.contacts,i[3]=l.tables.messages,i[4]=l.tables.participants,i[5]=_,i[6]=f):f=i[6];var g;i[7]!==c||i[8]!==t||i[9]!==l||i[10]!==_?(g=[l,c,t,_],i[7]=c,i[8]=t,i[9]=l,i[10]=_,i[11]=g):g=i[11],o("Int64Hooks").useEffectInt64(f,g)}l.default=m}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","LSAuthorityLevel","LSIntEnum","MWPAttachmentDataContext","MWPNewMessageAnnouncementHeader.react","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","react","react-compiler-runtime","setTimeout","useMWPAnnounceMessageForScreenReader"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState;function g(e){var t=o("react-compiler-runtime").c(2),n=e.message,a=o("MWPAttachmentDataContext").useMWPGetAttachments(n),i;return t[0]!==a?(i=r("getMWPAttachmentMessageAnnouncement")(a),t[0]=a,t[1]=i):i=t[1],i}function h(e){var t=o("react-compiler-runtime").c(14),a=e.message,i=e.participant,l=e.sender,s=f(!1),u=s[0],c=s[1],m,p;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(m=function(){var e=r("setTimeout")(function(){return c(!0)},100);return function(){r("clearTimeout")(e)}},p=[],t[0]=m,t[1]=p):(m=t[0],p=t[1]),_(m,p),!u)return null;var h;t[2]!==a.text?(h=a.text!=null&&n("cr:2472")!=null?n("cr:2472").unvault(a.text):a.text,t[2]=a.text,t[3]=h):h=t[3];var y=h,C;t[4]!==a||t[5]!==i||t[6]!==l?(C=d.jsx(r("MWPNewMessageAnnouncementHeader.react"),{message:a,participant:i,sender:l}),t[4]=a,t[5]=i,t[6]=l,t[7]=C):C=t[7];var b=y!=null?y:null,v;t[8]!==a?(v=r("mwpMessageHasAttachment")(a)?d.jsx(g,{message:a}):null,t[8]=a,t[9]=v):v=t[9];var S;return t[10]!==C||t[11]!==b||t[12]!==v?(S=d.jsxs(r("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[C,b,v]}),t[10]=C,t[11]=b,t[12]=v,t[13]=S):S=t[13],S}function y(e){var t=o("react-compiler-runtime").c(1),n=e.thread,a=f(null),i=a[0],l=a[1],c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=function(t,n,a){if((s||(s=o("I64"))).equal(t.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return l(function(){return d.jsx(h,{message:t,participant:a,sender:n})})},t[0]=c):c=t[0];var m=c;return r("useMWPAnnounceMessageForScreenReader")(m,n),i}function C(e){var t=o("react-compiler-runtime").c(4),n;t[0]!==e?(n=babelHelpers.extends({},(c(e),e)),t[0]=e,t[1]=n):n=t[1];var a;return t[2]!==n?(a=d.jsx(r("CometErrorBoundary.react"),{fallback:void 0,children:d.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPNewMessageAnnouncementForScreenReaders",children:d.jsx(y,babelHelpers.extends({},n))})}),t[2]=n,t[3]=a):a=t[3],a}l.default=C}),98);
__d("MWV2ChatTabThreadLinkHashContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(null);function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.threadLinkHash,a=r!=null?r:null,i;return t[0]!==n||t[1]!==a?(i=s.jsx(m.Provider,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function _(){return d(m)}l.MWV2ChatTabThreadLinkHashContextProvider=p,l.useGetChatTabThreadLinkHash=_}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=e.children;return t}var u=(e=n("cr:6234")==null?void 0:n("cr:6234").MWPAudioPlaybackContextProvider)!=null?e:s,c=u;l.default=c}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWV2IsTabFocusedContext.react","mwCMIsAnyCMThread","mwCMIsCMSubthread","react-compiler-runtime","useC4GEngagementSurface"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(7),a=t.isSubthreadDisplayed,i=t.threadKey,l=t.threadType,s=a===void 0?!1:a,u=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),c=r("useC4GEngagementSurface")(),d,m;n[0]!==u||n[1]!==s||n[2]!==c||n[3]!==i||n[4]!==l?(d=function(){u&&(r("mwCMIsAnyCMThread")(l)||r("mwCMIsCMSubthread")(l)&&s)&&o("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:r("mwCMIsCMSubthread")(l)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:c,thread_id:(e||(e=o("I64"))).to_string(i)})},m=[i,l,u,c,s],n[0]=u,n[1]=s,n[2]=c,n[3]=i,n[4]=l,n[5]=d,n[6]=m):(d=n[5],m=n[6]),o("Int64Hooks").useEffectInt64(d,m)}l.default=s}),98);
__d("useCometSubscribeMessengerIsOnDemandCutoverEligible",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(12),l=(e||(e=r("useReStore")))(),s,u;a[0]!==l||a[1]!==t||a[2]!==n?(s=function(){return t!=null&&n!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)?o("ReQL").fromTableAscending(l.tables.contacts,[].concat(o("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(t):o("ReQL").empty()},u=[l,t,n],a[0]=l,a[1]=t,a[2]=n,a[3]=s,a[4]=u):(s=a[3],u=a[4]);var c=o("ReQLSuspense").useFirst(s,u,i.id+":34"),d=o("MAWThreadCutover").useIsCutoverOpenThread(t);if(n==null||!o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)||d){var m;return a[5]===Symbol.for("react.memo_cache_sentinel")?(m=[!1,!0,null],a[5]=m):m=a[5],m}if(c==null){var p;return a[6]===Symbol.for("react.memo_cache_sentinel")?(p=[!1,!1,null],a[6]=p):p=a[6],p}var _;a[7]!==c?(_=c!=null&&o("LSContactBitOffset").has(76,c),a[7]=c,a[8]=_):_=a[8];var f=_,g;return a[9]!==f||a[10]!==c.id?(g=[f,!0,c.id],a[9]=f,a[10]=c.id,a[11]=g):g=a[11],g}l.default=s}),98);
__d("useMWCloseDuplicateChatTabs",["I64","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=o("react-compiler-runtime").c(9),n=o("MWChatStateContext").useChatState(d),r=o("MWChatStateV2.react").useDispatch(),a;t[0]!==r||t[1]!==e.tabId||t[2]!==e.tabType.threadKeyDescriptor||t[3]!==n?(a=function(){var t;if(((t=e.tabType.threadKeyDescriptor)==null?void 0:t.threadKey)!=null){var a=Array.from(n.values()).filter(function(t){var n,r,a=t.tabId,i=t.tabType;return((n=i.threadKeyDescriptor)==null?void 0:n.threadKey)==null||((r=e.tabType.threadKeyDescriptor)==null?void 0:r.threadKey)==null?!1:e.tabId>a&&(s||(s=o("I64"))).equal(i.threadKeyDescriptor.threadKey,e.tabType.threadKeyDescriptor.threadKey)});a.forEach(function(e){var t=e.closeWatermark,n=e.openWatermark,a=e.tabId;n>t&&r(o("MWChatStateActions").closeTab(Date.now(),a))})}},t[0]=r,t[1]=e.tabId,t[2]=e.tabType.threadKeyDescriptor,t[3]=n,t[4]=a):a=t[4];var i;t[5]!==r||t[6]!==e||t[7]!==n?(i=[r,e,n],t[5]=r,t[6]=e,t[7]=n,t[8]=i):i=t[8],u(a,i)}function d(e){return e.tabs}l.default=c}),98);
__d("MWV2ChatTab.react",["BaseHeadingContextWrapper.react","CometErrorBoundary.react","CometMessagingChatTabErrorState.react","CometPageletWithDiv.react","CometPlaceholder.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSContactUtils","LSFactory","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","LegacyHidden","MAWThreadCutover","MAWUnrecoverableErrorBoundary.react","MWCMSubThreadChatTabWithSubthread.react","MWChatConnectionStatusCard.react","MWChatInteraction","MWChatStateContext","MWChatTabInThreadBanner.react","MWChatTabInThreadBannerLazyLoaded.react","MWChatTabLSDependencies","MWComposerGating.react","MWCreatorMessagingLoggingUtils","MWFullThreadProvider.react","MWInChatTabContextProvider.react","MWInboxPinnedMessagesBanner.react","MWLSChatTabHeaderRoot.react","MWOnDemandCutoverThreadPreview.react","MWOpenAndSecureThreadView.react","MWOptimisticSecureThreadPreview.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThemeCSSProvider.react","MWPThreadIsPage.react","MWPThreadThemeProvider.react","MWPVisibleMessageContext.react","MWThreadKey.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2ChatTabThreadLinkHashContext.react","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","MWV2EnsureThatChatTabExists","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2TabContainer","MetaConfig","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:10518","cr:1113","cr:21386","cr:9410","emptyFunction","promiseDone","react","react-compiler-runtime","useC4gEngagementImpressionLogging","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability","useCometSubscribeMessengerIsOnDemandCutoverEligible","useEmptyFunction","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useMWCloseDuplicateChatTabs","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=c||(c=o("react")),p=c,_=p.memo,f=p.useCallback,g=p.useLayoutEffect,h=p.useRef;o("MWChatTabLSDependencies").init();var y=(e=n("cr:1113"))!=null?e:r("useEmptyFunction"),C=(s=n("cr:10518"))!=null?s:r("useEmptyFunction");function b(e){var t=e.children,n=e.themeFbid;return o("MWPThemeCSSProvider.react").useIsThemeV2()?m.jsx(r("CometTransientDialogProvider.react"),{children:m.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:n,children:t})}):m.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:n,children:m.jsx(r("CometTransientDialogProvider.react"),{children:t})})}function v(e){var t=o("react-compiler-runtime").c(90),a=e.isMinimized,i=e.mawSecureThreadQPContainerQueryRef,l=e.mwChatTabInThreadBannerQueryRef,s=e.otherContactIdForDefaultE2eeThread,u=e.otherContactIdForOnDemandCutover,c=e.shouldUseDefaultE2eeOneToOne,d=e.shouldUseOnDemandCutover,p=e.tab,_=e.thread,f=e.threadLinkHash,v=_.themeFbid,k=_.threadKey,I=_.threadType,T;t[0]!==_?(T={thread:_},t[0]=_,t[1]=T):T=t[1],y(T);var D;t[2]!==k||t[3]!==I?(D={threadKey:k,threadType:I},t[2]=k,t[3]=I,t[4]=D):D=t[4],r("useC4gEngagementImpressionLogging")(D),C(_);var x;t[5]!==I?(x=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(I),t[5]=I,t[6]=x):x=t[6];var $=x,P;t[7]!==_?(P=o("LSThreadBitOffset").has(167,_),t[7]=_,t[8]=P):P=t[8];var N=P,M=!o("LSThreadBitOffset").has(56,_),w;t[9]===Symbol.for("react.memo_cache_sentinel")?(w={getScrollAreaElement:r("emptyFunction"),jumpToMostRecentMessage:r("emptyFunction"),restoreScrollPosition:r("emptyFunction")},t[9]=w):w=t[9];var A=h(w),F=o("MWChatStateContext").useChatState(E);r("useMWCloseDuplicateChatTabs")(p);var O,B;t[10]!==F||t[11]!==p.tabId?(O=function(){if(F!==p.tabId){var e;(e=A.current)==null||e.restoreScrollPosition()}},B=[F,p.tabId],t[10]=F,t[11]=p.tabId,t[12]=O,t[13]=B):(O=t[12],B=t[13]),g(O,B);var W;t[14]!==$||t[15]!==_?(W=o("LSThreadBitOffset").has(106,_)&&$&&r("MetaConfig")._("105"),t[14]=$,t[15]=_,t[16]=W):W=t[16];var q=W,U;t[17]===Symbol.for("react.memo_cache_sentinel")?(U=function(){var e;(e=A.current)==null||e.jumpToMostRecentMessage()},t[17]=U):U=t[17];var V=U,H=o("MWCreatorMessagingLoggingUtils").useLogOnMessageSend(),G;t[18]!==H||t[19]!==_?(G=function(){H(_)},t[18]=H,t[19]=_,t[20]=G):G=t[20];var z=G,j=o("MWCreatorMessagingLoggingUtils").useLogOnThreadViewImpression(_.threadKey),K=o("LSContactUtils").useOtherUserReachabilityStatus(_),Q;t[21]!==K?(Q=o("LSContactUtils").getHasTextOnlyComposer(K),t[21]=K,t[22]=Q):Q=t[22];var X=Q,Y;t[23]!==F||t[24]!==p.tabId||t[25]!==_?(Y=p.tabId!==F?null:m.jsx(r("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:_}),t[23]=F,t[24]=p.tabId,t[25]=_,t[26]=Y):Y=t[26];var J;t[27]===Symbol.for("react.memo_cache_sentinel")?(J=m.jsx(r("MWChatConnectionStatusCard.react"),{}),t[27]=J):J=t[27];var Z;t[28]!==l||t[29]!==_?(Z=m.jsx(r("CometErrorBoundary.react"),{fallback:L,children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner.Root",children:l!=null?m.jsx(r("MWChatTabInThreadBanner.react"),{mwChatTabInThreadBannerQueryRef:l,thread:_}):m.jsx(r("MWChatTabInThreadBannerLazyLoaded.react"),{thread:_})})}),t[28]=l,t[29]=_,t[30]=Z):Z=t[30];var ee;t[31]!==q||t[32]!==_?(ee=q&&m.jsx(r("MWInboxPinnedMessagesBanner.react"),{thread:_}),t[31]=q,t[32]=_,t[33]=ee):ee=t[33];var te;t[34]!==a||t[35]!==i||t[36]!==_?(te=m.jsx(r("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",isMinimizedChatTab:a,mawSecureThreadQPContainerQueryRef:i,messageListRef:A,thread:_}),t[34]=a,t[35]=i,t[36]=_,t[37]=te):te=t[37];var ne;t[38]!==z?(ne=function(t){return m.jsx(o("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:z,isMessengerInbox:!1,isPreviewThread:!1,thread:t})},t[38]=z,t[39]=ne):ne=t[39];var re;t[40]!==ne||t[41]!==k?(re=m.jsx(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:V,children:m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWComposer",children:m.jsx(r("MWFullThreadProvider.react"),{threadKey:k,children:ne})})}),t[40]=ne,t[41]=k,t[42]=re):re=t[42];var oe;t[43]!==re||t[44]!==f?(oe=m.jsx(r("MAWUnrecoverableErrorBoundary.react"),{fallback:R,children:m.jsx(r("CometErrorBoundary.react"),{fallback:S,children:m.jsx(o("MWV2ChatTabThreadLinkHashContext.react").MWV2ChatTabThreadLinkHashContextProvider,{threadLinkHash:f,children:re})})}),t[43]=re,t[44]=f,t[45]=oe):oe=t[45];var ae;t[46]!==X||t[47]!==M||t[48]!==te||t[49]!==oe||t[50]!==_?(ae=m.jsxs(o("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:X,isMediaOnly:M,thread:_,children:[te,oe]}),t[46]=X,t[47]=M,t[48]=te,t[49]=oe,t[50]=_,t[51]=ae):ae=t[51];var ie;t[52]!==Y||t[53]!==Z||t[54]!==ee||t[55]!==ae?(ie=m.jsxs(m.Fragment,{children:[Y,J,Z,ee,ae]}),t[52]=Y,t[53]=Z,t[54]=ee,t[55]=ae,t[56]=ie):ie=t[56];var le=ie,se;t[57]!==le||t[58]!==N||t[59]!==p||t[60]!==_?(se=N?n("cr:21386")!=null?m.jsx(n("cr:21386").MWPConversationSearchContext,{children:m.jsx(r("MWCMSubThreadChatTabWithSubthread.react"),{tab:p,thread:_,children:le})}):m.jsx(r("MWCMSubThreadChatTabWithSubthread.react"),{tab:p,thread:_,children:le}):null,t[57]=le,t[58]=N,t[59]=p,t[60]=_,t[61]=se):se=t[61];var ue=se,ce;t[62]!==c||t[63]!==d||t[64]!==k?(ce=function(t){return c||d?m.jsx(m.Fragment,{children:t}):m.jsx(o("MWThreadKey.react").MWThreadKeyProvider,{id:k,children:t})},t[62]=c,t[63]=d,t[64]=k,t[65]=ce):ce=t[65];var de=ce,me;t[66]!==le||t[67]!==j||t[68]!==p||t[69]!==k?(me=n("cr:9410")!=null?m.jsx(o("MWV2TabContainer").MWV2TabContainer,{domRef:j,tab:p,threadKey:k,children:m.jsx(n("cr:9410"),{children:function(t){return m.jsxs(m.Fragment,{children:[m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:m.jsx(r("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:p}),name:"MWChatTabHeader",children:m.jsx(r("MWLSChatTabHeaderRoot.react"),{pushPage:t,tab:p,threadKey:k})}),le]})}})}):m.jsxs(o("MWV2TabContainer").MWV2TabContainer,{domRef:j,tab:p,threadKey:k,children:[m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:m.jsx(r("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:p}),name:"MWChatTabHeader",children:m.jsx(r("MWLSChatTabHeaderRoot.react"),{tab:p,threadKey:k})}),le]}),t[66]=le,t[67]=j,t[68]=p,t[69]=k,t[70]=me):me=t[70];var pe=me,_e;t[71]!==pe||t[72]!==ue||t[73]!==s||t[74]!==u||t[75]!==c||t[76]!==d||t[77]!==p?(_e=ue!=null?ue:c&&r("MWOptimisticSecureThreadPreview.react")!=null?m.jsx(r("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:s,tab:p}):d?m.jsx(r("MWOnDemandCutoverThreadPreview.react"),{otherContactIdForOnDemandCutoverThread:u,tab:p}):pe,t[71]=pe,t[72]=ue,t[73]=s,t[74]=u,t[75]=c,t[76]=d,t[77]=p,t[78]=_e):_e=t[78];var fe=_e,ge;t[79]!==fe?(ge=m.jsx(o("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:m.jsx(o("MWInChatTabContextProvider.react").InChatTabContextProvider,{children:m.jsx(r("BaseHeadingContextWrapper.react"),{children:fe})})}),t[79]=fe,t[80]=ge):ge=t[80];var he;t[81]!==ge||t[82]!==v?(he=m.jsx(r("XPlatWebAudioPlaybackContextProvider.react"),{children:m.jsx(o("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:m.jsx(b,{themeFbid:v,children:ge})})}),t[81]=ge,t[82]=v,t[83]=he):he=t[83];var ye;t[84]!==he||t[85]!==de?(ye=de(he),t[84]=he,t[85]=de,t[86]=ye):ye=t[86];var Ce;return t[87]!==ye||t[88]!==k?(Ce=m.jsx(o("MWPThreadIsPage.react").Provider,{threadKey:k,children:ye}),t[87]=ye,t[88]=k,t[89]=Ce):Ce=t[89],Ce}function S(){return m.jsx(r("MWV2ErrorComposer.react"),{})}S.displayName=S.name+" [from "+i.id+"]";function R(e){return m.jsx(r("CometMessagingChatTabErrorState.react"),{error:e})}R.displayName=R.name+" [from "+i.id+"]";function L(){return null}function E(e){return e.focusedTabId}function k(e,t){var n=o("react-compiler-runtime").c(12),a=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(e),l=(o("MAWThreadCutover").useIsCutoverOpenThread(e)||t!=null&&o("LSThreadBitOffset").has(128,t))&&!a,s;n[0]!==e?(s=(d||(d=o("I64"))).to_string(e),n[0]=e,n[1]=s):s=n[1];var c=o("MAWThreadCutover").useGetCutoverSecureThreadKey(s),m=(u||(u=r("useReStore")))(),p,_;n[2]!==c||n[3]!==m||n[4]!==l||n[5]!==e?(p=function(){if(l)if(c==null)r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(m,function(t){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(t),{waJid:e})},"readwrite"));else{var t=o("MWChatInteraction").get((d||(d=o("I64"))).to_string(e));if(t!=null){var n;o("MWChatInteraction").set(c,t),(n=r("InteractionTracingMetrics")).addMetadata(t,"thread_id",c),n.addMetadata(t,"thread_type","15"),n.addMetadata(t,"is_secure",!0),n.addMetadata(t,"redirectedFromPreCutover",1)}}},_=[c,m,l,e],n[2]=c,n[3]=m,n[4]=l,n[5]=e,n[6]=p,n[7]=_):(p=n[6],_=n[7]),o("Int64Hooks").useEffectInt64(p,_);var f,g;n[8]!==c||n[9]!==m?(f=function(){return c!=null?o("ReQL").fromTableAscending(m.tables.threads).getKeyRange((d||(d=o("I64"))).of_string(c)):o("ReQL").empty()},g=[m,c],n[8]=c,n[9]=m,n[10]=f,n[11]=g):(f=n[10],g=n[11]);var h=o("ReQLSuspense").useFirst(f,g,i.id+":457"),y=a?void 0:h;if(y!=null){var C=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(d||(d=o("I64"))).to_string(e));C.type==="MWLSEntrypoint"&&C.value!=="unknown"&&o("LSThreadAttributionStore").setSource((d||(d=o("I64"))).to_string(y.threadKey),C.value)}return y}function I(e){var t,n,a,l=o("react-compiler-runtime").c(34),s=e.isMinimized,c=e.mawSecureThreadQPContainerQueryRef,d=e.mwChatTabInThreadBannerQueryRef,p=e.tab,_=e.threadKeyDescriptor,f=s===void 0?!1:s,g=(u||(u=r("useReStore")))(),h=_.clientThreadKey,y=_.threadKey,C=_.threadLinkHash;o("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(y,_.threadType,h,"MWV2ChatTab");var b;l[0]!==g.tables.threads||l[1]!==y?(b=function(){return o("ReQL").fromTableAscending(g.tables.threads,["folderName","themeFbid","threadKey","threadType","parentThreadKey","threadSubtype","threadName","authorityLevel","cannotUnsendReason","threadStatus","cannotReplyReason","clientThreadKey","consistentThreadFbid","metadata"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(y)},l[0]=g.tables.threads,l[1]=y,l[2]=b):b=l[2];var S;l[3]!==g||l[4]!==y?(S=[g,y],l[3]=g,l[4]=y,l[5]=S):S=l[5];var R=o("ReQLSuspense").useFirst(b,S,i.id+":509"),L;l[6]!==h||l[7]!==g.tables.threads?(L=function(){return h!=null?o("ReQL").fromTableAscending(g.tables.threads.index("clientThreadKey")).getKeyRange(h):o("ReQL").empty()},l[6]=h,l[7]=g.tables.threads,l[8]=L):L=l[8];var E;l[9]!==h||l[10]!==g?(E=[g,h],l[9]=h,l[10]=g,l[11]=E):E=l[11];var I=o("ReQLSuspense").useFirst(L,E,i.id+":529"),T=k(y,R),D=(t=T!=null?T:R)!=null?t:I,x;l[12]===Symbol.for("react.memo_cache_sentinel")?(x={shouldClearOldHiddenTab:!0,shouldUpdateThreadType:!0},l[12]=x):x=l[12],r("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(D,p,x);var $=r("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")((n=D==null?void 0:D.threadKey)!=null?n:y,D==null?void 0:D.threadType),P=$[0],N=$[2],M=r("useCometSubscribeMessengerIsOnDemandCutoverEligible")((a=D==null?void 0:D.threadKey)!=null?a:y,D==null?void 0:D.threadType),w=M[0],A=M[2];if(D!=null){var F=f?"mwchat-tab-wrapper-minimized":void 0,O=f?"hidden":"visible",B;l[13]!==P||l[14]!==D?(B=D!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(D.threadType)&&P,l[13]=P,l[14]=D,l[15]=B):B=l[15];var W;l[16]!==w||l[17]!==D?(W=D!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(D.threadType)&&w,l[16]=w,l[17]=D,l[18]=W):W=l[18];var q;l[19]!==N||l[20]!==f||l[21]!==c||l[22]!==d||l[23]!==A||l[24]!==W||l[25]!==B||l[26]!==p||l[27]!==C||l[28]!==D?(q=m.jsx(v,{isMinimized:f,mawSecureThreadQPContainerQueryRef:c,mwChatTabInThreadBannerQueryRef:d,otherContactIdForDefaultE2eeThread:N,otherContactIdForOnDemandCutover:A,shouldUseDefaultE2eeOneToOne:B,shouldUseOnDemandCutover:W,tab:p,thread:D,threadLinkHash:C}),l[19]=N,l[20]=f,l[21]=c,l[22]=d,l[23]=A,l[24]=W,l[25]=B,l[26]=p,l[27]=C,l[28]=D,l[29]=q):q=l[29];var U;return l[30]!==q||l[31]!==F||l[32]!==O?(U=m.jsx(r("LegacyHidden"),{"data-testid":void 0,mode:O,children:q}),l[30]=q,l[31]=F,l[32]=O,l[33]=U):U=l[33],U}return null}var T=_(I);l.default=T}),98);
__d("MWV2ChatTabRoot.react",["MWV2ChatTab.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.props,a=e.queries,i=n.isMinimized,l=n.tab,u=n.threadKeyDescriptor,c=a.mawSecureThreadQPContainerQueryRef,d=a.mwChatTabInThreadBannerQueryRef,m;return t[0]!==i||t[1]!==c||t[2]!==d||t[3]!==l||t[4]!==u?(m=s.jsx(r("MWV2ChatTab.react"),{isMinimized:i,mawSecureThreadQPContainerQueryRef:c,mwChatTabInThreadBannerQueryRef:d,tab:l,threadKeyDescriptor:u}),t[0]=i,t[1]=c,t[2]=d,t[3]=l,t[4]=u,t[5]=m):m=t[5],m}l.default=u}),98);